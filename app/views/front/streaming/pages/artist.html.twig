<div class=" w-full h-screen gradient-top-overlay">
	<img style="z-index:-1" src="/stream?thumbnail=1000&image={{item.picture_name}}" class="w-full  shadow-xl absolute top-0 left-0 "/>
</div>
<div class=" w-full h-40 absolute top-0 left-0 gradient-overlay" style="z-index:-1; "></div>

{% set customer = app.customer_auth() %}
<div class=" w-full  relative">
	<div class="absolute bottom-40 left-40  z-10 w-1/2">
		<h1 class="lg:text-6xl text-lg text-white">{{item.name}}</h1>

		{% if item.customer_id == customer.customer_id %}
			<div class="{{ following == null ? '' : ' hidden'}} float-right" x-on:click="jQuery('#heart-{{item.customer_id}}').addClass('hidden'); jQuery('#unheart-{{item.customer_id}}').removeClass('hidden')" id="heart-{{item.customer_id}}">
				<a href="/studio" class="ajax-load hover:border-orange-300 hover:text-orange-300 text-gray-400 border dark:text-gray-200 border border-4 border-white rounded-full py-2 px-6">
					<span>{{lang.translate('Manage')}}</span>
				</a>
			</div>
		{% else  %}
			{% set following = item.following(customer.customer_id).first() %}
			<div class="{{ following == null ? '' : ' hidden'}} float-right" x-on:click="jQuery('#heart-{{item.customer_id}}').addClass('hidden'); jQuery('#unheart-{{item.customer_id}}').removeClass('hidden')" id="heart-{{item.customer_id}}">
				<a href="/front_api/create?type=Follower.create&params[item_id]={{item.customer_id}}" data-params="{item_id: {{item.customer_id}} }" class="ajax-link hover:border-orange-300 hover:text-orange-300 border border-4 border-white rounded-full py-2 px-6">
					<span>{{lang.translate('Follow')}}</span>
				</a>
			</div>

			<div class="{{ following == null ? 'hidden' : '' }} float-right" x-on:click="jQuery('#unheart-{{item.customer_id}}').addClass('hidden'); jQuery('#heart-{{item.customer_id}}').removeClass('hidden')" id="unheart-{{item.customer_id}}">
				<a href="/front_api/delete?type=Follower.unfollow&params[item_id]={{item.customer_id}}" data-params="{item_id: {{item.customer_id}} }" class="ajax-link hover:border-orange-300 hover:text-orange-300 border border-4 border-white rounded-full py-2 px-6">
					<span>{{lang.translate('UnFollow')}}</span>
				</a>
			</div>
		{% endif %}

		<div class="w-full flex gap-4 ">

			<span class="text-sm text-gray-100">{{lang.translate('Followers')}}
				:
				{{item.followers|length}}
			</span>
			<span x-on:click="jQuery('#share-popup').removeClass('hidden')" class="cursor-pointer mx-2 text-sm text-gray-100"><img src="/src/front_assets/svg/share.svg" class="w-5"></span>

		</div>

	</div>
</div>
<div class="pb-4  h-full overflow-hidden rounded-2xl" x-data="{is_slide: 'slide'}">

	<div class="w-full  ">
		<div class=" p-8 relative hidden">
			<div class="artist-overlay top-[-20px] left-0 absolute w-full h-full py-20 bg-gradient-to-b from-gray-800 to-black"></div>
			<img src="/stream?thumbnail=900&image={{item.picture_name}}" class="absolute bg-img left-20px top-0 w-full"/>
			<div class="flex w-full text-white mx-auto text-center relative z-10">
				<img src="/stream?thumbnail=300&image={{item.picture_name}}" class="w-40 h-40 lg:w-56 lg:h-56 rounded-full shadow-xl"/>
				<div class="p-8 text-left w-full">
					<span>{{lang.translate('Artist')}}</span>
					<h1 class="lg:text-2xl text-lg ">{{item.name}}</h1>
					<div class="py-2 font-thin">
						<p class="truncate-text truncate">{{item.description}}
						</p>
					</div>
					{% if item.customer_id == app.customer.customer_id %}
						<div class="{{ following == null ? '' : ' hidden'}} float-right" x-on:click="jQuery('#heart-{{item.customer_id}}').addClass('hidden'); jQuery('#unheart-{{item.customer_id}}').removeClass('hidden')" id="heart-{{item.customer_id}}">
							<a href="/studio" class="ajax-load hover:border-orange-300 hover:text-orange-300 border border-4 border-white rounded-full py-2 px-6">
								<span>{{lang.translate('Manage')}}</span>
							</a>
						</div>
					{% else  %}
						{% set following = item.following(app.customer.customer_id).first() %}
						<div class="{{ following == null ? '' : ' hidden'}} float-right" x-on:click="jQuery('#heart-{{item.customer_id}}').addClass('hidden'); jQuery('#unheart-{{item.customer_id}}').removeClass('hidden')" id="heart-{{item.customer_id}}">
							<a href="/front_api/create?type=Follower.create&params[item_id]={{item.customer_id}}" data-params="{item_id: {{item.customer_id}} }" class="ajax-link hover:border-orange-300 hover:text-orange-300 border border-4 border-white rounded-full py-2 px-6">
								<span>{{lang.translate('Follow')}}</span>
							</a>
						</div>

						<div class="{{ following == null ? 'hidden' : '' }} float-right" x-on:click="jQuery('#unheart-{{item.customer_id}}').addClass('hidden'); jQuery('#heart-{{item.customer_id}}').removeClass('hidden')" id="unheart-{{item.customer_id}}">
							<a href="/front_api/delete?type=Follower.unfollow&params[item_id]={{item.customer_id}}" data-params="{item_id: {{item.customer_id}} }" class="ajax-link hover:border-orange-300 hover:text-orange-300 border border-4 border-white rounded-full py-2 px-6">
								<span>{{lang.translate('UnFollow')}}</span>
							</a>
						</div>
					{% endif %}

					<div class="flex gap-4 py-2">
						<span class="text-sm text-gray-100">{{lang.translate('Followers')}}
							:
							{{item.followers|length}}
						</span>
						<span x-on:click="jQuery('#share-popup').removeClass('hidden')" class="cursor-pointer mx-2 text-sm text-gray-100"><img src="/src/front_assets/svg/share.svg" class="w-5"></span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="relative z-10 w-full  gap-4 bg-white dark:bg-gray-900 rounded-2xl p-8 h-full">

		<span class="block pt-10 text-sm text-gray-500">{{lang.translate('About')}}</span>
		<div class="text-primary">
			<p class="dark:text-gray-400 py-4">{{item.field.about}}</p>
		</div>
		<div class="w-full 	py-10" id="item-related-items">
			<div class=" w-full flex gap-4 text-primary">
				<div class=" w-full flex gap-4 dark:text-gray-400 ">
					<h2 class="text-2xl  font-semibold">{{lang.translate('Media items')}}</h3>
					<a href="#!" class="p-2 transition hover:text-orange-500">See all</a>
				</div>

				<div class="flex gap gap-4">
					<button class="prev-btn" data-slider="related-items"><img class="w-8" src="/src/front_assets/svg/left.svg"></button>
					<button class="next-btn" data-slider="related-items"><img class="w-8" src="/src/front_assets/svg/right.svg"></button>
				</div>
			</div>
			<div class="my-4 "></div>

			<div id="related-items" class="carousel-container flex gap-2" data-count="4">
				{% set list = {'items' : item.media_items} %}
				{% for media_item in list.items %}
					{% include 'views/front/'~ app.SystemSetting.template ~ '/includes/track_item.html.twig' %}
				{% endfor %}
			</div>
		</div>

		<div class="w-full 	py-10" id="liked-items">
			<div class=" w-full flex gap-4 text-primary">
				<div class=" w-full flex gap-4 dark:text-gray-400 ">
					<h2 class="text-2xl  font-semibold">{{lang.translate('Liked items')}}</h3>
					<a href="#!" class="p-2 transition hover:text-orange-500">See all</a>
				</div>

				<div class="flex gap gap-4">
					<button class="prev-btn" data-slider="liked-items"><img class="w-8" src="/src/front_assets/svg/left.svg"></button>
					<button class="next-btn" data-slider="liked-items"><img class="w-8" src="/src/front_assets/svg/right.svg"></button>
				</div>
			</div>
			<div class="my-4 "></div>

			<div id="liked-items" class="carousel-container flex gap-2" data-count="4">
				{% set list = {'items' : item.likes|column('item')} %}
				{% for media_item in list.items %}
                    {% if media_item.type == 'audio' %}
				    	{% include 'views/front/'~ app.SystemSetting.template ~ '/includes/track_item.html.twig' %}
                    {% endif %}
				{% endfor %}
			</div>
		</div>

        
		<div class="w-full 	py-10" id="liked-books-items">
			<div class=" w-full flex gap-4 text-primary">
				<div class=" w-full flex gap-4 dark:text-gray-400 ">
					<h2 class="text-2xl  font-semibold">{{lang.translate('liked audio books')}}</h3>
					<a href="#!" class="p-2 transition hover:text-orange-500">See all</a>
				</div>

				<div class="flex gap gap-4">
					<button class="prev-btn" data-slider="liked-books-items"><img class="w-8" src="/src/front_assets/svg/left.svg"></button>
					<button class="next-btn" data-slider="liked-books-items"><img class="w-8" src="/src/front_assets/svg/right.svg"></button>
				</div>
			</div>
			<div class="my-4 "></div>

			<div id="liked-books-items" class="carousel-container flex gap-2" data-count="4">
				{% set list = {'items' : item.likes|column('item')} %}
				{% for audiobook in list.items %}
                    {% if audiobook.type == 'audiobook' %}
                {{audiobook.type}}
					    {% include 'views/front/' ~ template ~ '/pages/audiobook/item.html.twig' %}
                    {% endif %}
				{% endfor %}
			</div>
		</div>


		<div class="w-full 	py-10" id="audiobooks-items-slider">
			<div class=" w-full flex gap-4 text-primary">
				<div class=" w-full flex gap-4 dark:text-gray-400 ">
					<h2 class="text-2xl  font-semibold">{{lang.translate('Audio books')}}</h3>
					<a href="#!" class="p-2 transition hover:text-orange-500">{{lang.translate('See all')}}</a>
				</div>

				<div class="flex gap gap-4">
					<button class="prev-btn" data-slider="audiobooks-items"><img class="w-8" src="/src/front_assets/svg/left.svg"></button>
					<button class="next-btn" data-slider="audiobooks-items"><img class="w-8" src="/src/front_assets/svg/right.svg"></button>
				</div>
			</div>
			<div class="my-4 "></div>

			<div id="audiobooks-items" class="carousel-container flex gap-2" data-count="3">
				{% set list = {'items' : item.audiobooks} %}
				{% for audiobook in list.items %}
					{% include 'views/front/' ~ template ~ '/pages/audiobook/item.html.twig' %}
				{% endfor %}
			</div>

		</div>


	</div>

</div>

