import Hn from"./Close-BjOQ1kqe.min.js";import{V as Qe,Q as q,X as Kn,$ as ie,r as de,P as Re,ah as $n,U as Ut,T as pt,a7 as Un,Z as vn,a9 as st,a2 as Wn,a as Pe,o as N,c as B,g as be,x as pe,M as K,F as Ie,f as qe,y as xe,d as ne,u as jn,n as Ge,i as Xn,e as De,b as Bt,_ as Yn,t as qn,l as Gn,G as Jn}from"./index.min.js";var Qn=Object.defineProperty,gt=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,Yt=(e,t,n)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fe=(e,t)=>{for(var n in t||(t={}))mn.call(t,n)&&Yt(e,n,t[n]);if(gt)for(var n of gt(t))bn.call(t,n)&&Yt(e,n,t[n]);return e},yn=(e,t)=>{var n={};for(var r in e)mn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gt)for(var r of gt(e))t.indexOf(r)<0&&bn.call(e,r)&&(n[r]=e[r]);return n};const wn="[vue-draggable-plus]: ";function Zn(e){console.warn(wn+e)}function er(e){console.error(wn+e)}function qt(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function tr(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function nr(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[tr(n)]=e[n]),t),{})}function rr(e,t){if(Array.isArray(e))return e.splice(t,1)}function or(e,t,n){if(Array.isArray(e))return e.splice(t,0,n)}function ir(e){return typeof e>"u"}function ar(e){return typeof e=="string"}function Gt(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function Ot(e){e.parentNode&&e.parentNode.removeChild(e)}function lr(e,t=document){var n;let r=null;return typeof(t==null?void 0:t.querySelector)=="function"?r=(n=t==null?void 0:t.querySelector)==null?void 0:n.call(t,e):r=document.querySelector(e),r||Zn(`Element not found: ${e}`),r}function sr(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function cr(e,t){const n=Fe({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=sr(e[r],t[r]):n[r]=t[r]}),n}function dr(e){return e instanceof HTMLElement}function ur(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}/**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jt(Object(n),!0).forEach(function(r){hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ct(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ct=function(t){return typeof t}:ct=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(e)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function fr(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function pr(e,t){if(e==null)return{};var n=fr(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var gr="1.15.1";function ge(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var me=ge(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ze=ge(/Edge/i),Qt=ge(/firefox/i),Ue=ge(/safari/i)&&!ge(/chrome/i)&&!ge(/android/i),Sn=ge(/iP(ad|od|hone)/i),_n=ge(/chrome/i)&&ge(/android/i),Cn={capture:!1,passive:!1};function E(e,t,n){e.addEventListener(t,n,!me&&Cn)}function O(e,t,n){e.removeEventListener(t,n,!me&&Cn)}function vt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function vr(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ce(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&vt(e,t):vt(e,t))||r&&e===n)return e;if(e===n)break}while(e=vr(e))}return null}var Zt=/\s+/g;function Q(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Zt," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Zt," ")}}function g(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Ve(e,t){var n="";if(typeof e=="string")n=e;else do{var r=g(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function On(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,o=r.length;if(n)for(;a<o;a++)n(r[a],a);return r}return[]}function ue(){var e=document.scrollingElement;return e||document.documentElement}function F(e,t,n,r,a){if(!(!e.getBoundingClientRect&&e!==window)){var o,i,l,s,d,c,u;if(e!==window&&e.parentNode&&e!==ue()?(o=e.getBoundingClientRect(),i=o.top,l=o.left,s=o.bottom,d=o.right,c=o.height,u=o.width):(i=0,l=0,s=window.innerHeight,d=window.innerWidth,c=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!me))do if(a&&a.getBoundingClientRect&&(g(a,"transform")!=="none"||n&&g(a,"position")!=="static")){var p=a.getBoundingClientRect();i-=p.top+parseInt(g(a,"border-top-width")),l-=p.left+parseInt(g(a,"border-left-width")),s=i+o.height,d=l+o.width;break}while(a=a.parentNode);if(r&&e!==window){var f=Ve(a||e),C=f&&f.a,S=f&&f.d;f&&(i/=S,l/=C,u/=C,c/=S,s=i+c,d=l+u)}return{top:i,left:l,bottom:s,right:d,width:u,height:c}}}function En(e){var t=F(e),n=parseInt(g(e,"padding-left")),r=parseInt(g(e,"padding-top")),a=parseInt(g(e,"padding-right")),o=parseInt(g(e,"padding-bottom"));return t.top+=r+parseInt(g(e,"border-top-width")),t.left+=n+parseInt(g(e,"border-left-width")),t.width=e.clientWidth-n-a,t.height=e.clientHeight-r-o,t.bottom=t.top+t.height,t.right=t.left+t.width,t}function en(e,t,n){for(var r=_e(e,!0),a=F(e)[t];r;){var o=F(r)[n],i=void 0;if(i=a>=o,!i)return r;if(r===ue())break;r=_e(r,!1)}return!1}function Le(e,t,n,r){for(var a=0,o=0,i=e.children;o<i.length;){if(i[o].style.display!=="none"&&i[o]!==b.ghost&&(r||i[o]!==b.dragged)&&ce(i[o],n.draggable,e,!1)){if(a===t)return i[o];a++}o++}return null}function Wt(e,t){for(var n=e.lastElementChild;n&&(n===b.ghost||g(n,"display")==="none"||t&&!vt(n,t));)n=n.previousElementSibling;return n||null}function te(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==b.clone&&(!t||vt(e,t))&&n++;return n}function tn(e){var t=0,n=0,r=ue();if(e)do{var a=Ve(e),o=a.a,i=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*i}while(e!==r&&(e=e.parentNode));return[t,n]}function mr(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function _e(e,t){if(!e||!e.getBoundingClientRect)return ue();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=g(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ue();if(r||t)return n;r=!0}}while(n=n.parentNode);return ue()}function br(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Et(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var We;function kn(e,t){return function(){if(!We){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),We=setTimeout(function(){We=void 0},t)}}}function yr(){clearTimeout(We),We=void 0}function Dn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Tn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ee="Sortable"+new Date().getTime();function wr(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(g(r,"display")==="none"||r===b.ghost)){e.push({target:r,rect:F(r)});var a=he({},e[e.length-1].rect);if(r.thisAnimationDuration){var o=Ve(r,!0);o&&(a.top-=o.f,a.left-=o.e)}r.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(mr(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,o=0;e.forEach(function(i){var l=0,s=i.target,d=s.fromRect,c=F(s),u=s.prevFromRect,p=s.prevToRect,f=i.rect,C=Ve(s,!0);C&&(c.top-=C.f,c.left-=C.e),s.toRect=c,s.thisAnimationDuration&&Et(u,c)&&!Et(d,c)&&(f.top-c.top)/(f.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(l=_r(f,u,p,r.options)),Et(c,d)||(s.prevFromRect=d,s.prevToRect=c,l||(l=r.options.animation),r.animate(s,f,c,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},l),s.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),e=[]},animate:function(n,r,a,o){if(o){g(n,"transition",""),g(n,"transform","");var i=Ve(this.el),l=i&&i.a,s=i&&i.d,d=(r.left-a.left)/(l||1),c=(r.top-a.top)/(s||1);n.animatingX=!!d,n.animatingY=!!c,g(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Sr(n),g(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),g(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){g(n,"transition",""),g(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function Sr(e){return e.offsetWidth}function _r(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ne=[],kt={initializeByDefault:!0},et={mount:function(e){for(var t in kt)kt.hasOwnProperty(t)&&!(t in e)&&(e[t]=kt[t]);Ne.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ne.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=e+"Global";Ne.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](he({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](he({sortable:t},n)))})},initializePlugins:function(e,t,n,r){Ne.forEach(function(i){var l=i.pluginName;if(!(!e.options[l]&&!i.initializeByDefault)){var s=new i(e,t,e.options);s.sortable=e,s.options=e.options,e[l]=s,ve(n,s.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);typeof o<"u"&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return Ne.forEach(function(r){typeof r.eventProperties=="function"&&ve(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return Ne.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(r=a.optionListeners[t].call(e[a.pluginName],n))}),r}};function Cr(e){var t=e.sortable,n=e.rootEl,r=e.name,a=e.targetEl,o=e.cloneEl,i=e.toEl,l=e.fromEl,s=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,C=e.extraEventProperties;if(t=t||n&&n[ee],!!t){var S,R=t.options,A="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!me&&!Ze?S=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(r,!0,!0)),S.to=i||n,S.from=l||n,S.item=a||n,S.clone=o,S.oldIndex=s,S.newIndex=d,S.oldDraggableIndex=c,S.newDraggableIndex=u,S.originalEvent=p,S.pullMode=f?f.lastPutMode:void 0;var $=he(he({},C),et.getEventProperties(r,t));for(var D in $)S[D]=$[D];n&&n.dispatchEvent(S),R[A]&&R[A].call(t,S)}}var Or=["evt"],G=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,a=pr(n,Or);et.pluginEvent.bind(b)(e,t,he({dragEl:h,parentEl:I,ghostEl:w,rootEl:T,nextEl:Te,lastDownEl:dt,cloneEl:x,cloneHidden:Se,dragStarted:He,putSortable:H,activeSortable:b.active,originalEvent:r,oldIndex:Be,oldDraggableIndex:je,newIndex:Z,newDraggableIndex:ye,hideGhostForTarget:Nn,unhideGhostForTarget:An,cloneNowHidden:function(){Se=!0},cloneNowShown:function(){Se=!1},dispatchSortableEvent:function(o){Y({sortable:t,name:o,originalEvent:r})}},a))};function Y(e){Cr(he({putSortable:H,cloneEl:x,targetEl:h,rootEl:T,oldIndex:Be,oldDraggableIndex:je,newIndex:Z,newDraggableIndex:ye},e))}var h,I,w,T,Te,dt,x,Se,Be,Z,je,ye,ot,H,Me=!1,mt=!1,bt=[],Ee,oe,Dt,Tt,nn,rn,He,Ae,Xe,Ye=!1,it=!1,ut,W,Pt=[],Rt=!1,yt=[],_t=typeof document<"u",at=Sn,on=Ze||me?"cssFloat":"float",Er=_t&&!_n&&!Sn&&"draggable"in document.createElement("div"),Pn=function(){if(_t){if(me)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),xn=function(e,t){var n=g(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Le(e,0,t),o=Le(e,1,t),i=a&&g(a),l=o&&g(o),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+F(a).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+F(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&i.float&&i.float!=="none"){var c=i.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return a&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||s>=r&&n[on]==="none"||o&&n[on]==="none"&&s+d>r)?"vertical":"horizontal"},kr=function(e,t,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return r===i||a===l||r+o/2===i+s/2},Dr=function(e,t){var n;return bt.some(function(r){var a=r[ee].options.emptyInsertThreshold;if(!(!a||Wt(r))){var o=F(r),i=e>=o.left-a&&e<=o.right+a,l=t>=o.top-a&&t<=o.bottom+a;if(i&&l)return n=r}}),n},In=function(e){function t(a,o){return function(i,l,s,d){var c=i.options.group.name&&l.options.group.name&&i.options.group.name===l.options.group.name;if(a==null&&(o||c))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return t(a(i,l,s,d),o)(i,l,s,d);var u=(o?i:l).options.group.name;return a===!0||typeof a=="string"&&a===u||a.join&&a.indexOf(u)>-1}}var n={},r=e.group;(!r||ct(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Nn=function(){!Pn&&w&&g(w,"display","none")},An=function(){!Pn&&w&&g(w,"display","")};_t&&!_n&&document.addEventListener("click",function(e){if(mt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),mt=!1,!1},!0);var ke=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Dr(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[ee]._onDragOver(n)}}},Tr=function(e){h&&h.parentNode[ee]._isOutsideThisEl(e.target)};function b(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ve({},t),e[ee]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,i){o.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Ue,emptyInsertThreshold:5};et.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);In(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:Er,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?E(e,"pointerdown",this._onTapStart):(E(e,"mousedown",this._onTapStart),E(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(e,"dragover",this),E(e,"dragenter",this)),bt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ve(this,wr())}b.prototype={constructor:b,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ae=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,a=r.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=r.filter;if(Br(n),!h&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Ue&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ce(l,r.draggable,n,!1),!(l&&l.animated)&&dt!==l)){if(Be=te(l),je=te(l,r.draggable),typeof d=="function"){if(d.call(this,e,l,this)){Y({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),G("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ce(s,c.trim(),n,!1),c)return Y({sortable:t,rootEl:c,name:"filter",targetEl:l,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}),d)){a&&e.cancelable&&e.preventDefault();return}r.handle&&!ce(s,r.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var r=this,a=r.el,o=r.options,i=a.ownerDocument,l;if(n&&!h&&n.parentNode===a){var s=F(n);if(T=a,h=n,I=h.parentNode,Te=h.nextSibling,dt=n,ot=o.group,b.dragged=h,Ee={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},nn=Ee.clientX-s.left,rn=Ee.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",l=function(){if(G("delayEnded",r,{evt:e}),b.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Qt&&r.nativeDraggable&&(h.draggable=!0),r._triggerDragStart(e,t),Y({sortable:r,name:"choose",originalEvent:e}),Q(h,o.chosenClass,!0)},o.ignore.split(",").forEach(function(d){On(h,d.trim(),xt)}),E(i,"dragover",ke),E(i,"mousemove",ke),E(i,"touchmove",ke),E(i,"mouseup",r._onDrop),E(i,"touchend",r._onDrop),E(i,"touchcancel",r._onDrop),Qt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),G("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ze||me))){if(b.eventCanceled){this._onDrop();return}E(i,"mouseup",r._disableDelayedDrag),E(i,"touchend",r._disableDelayedDrag),E(i,"touchcancel",r._disableDelayedDrag),E(i,"mousemove",r._delayedDragTouchMoveHandler),E(i,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&E(i,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&xt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._disableDelayedDrag),O(e,"touchend",this._disableDelayedDrag),O(e,"touchcancel",this._disableDelayedDrag),O(e,"mousemove",this._delayedDragTouchMoveHandler),O(e,"touchmove",this._delayedDragTouchMoveHandler),O(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):t?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(h,"dragend",this),E(T,"dragstart",this._onDragStart));try{document.selection?ht(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Me=!1,T&&h){G("dragStarted",this,{evt:t}),this.nativeDraggable&&E(document,"dragover",Tr);var n=this.options;!e&&Q(h,n.dragClass,!1),Q(h,n.ghostClass,!0),b.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(oe){this._lastX=oe.clientX,this._lastY=oe.clientY,Nn();for(var e=document.elementFromPoint(oe.clientX,oe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(oe.clientX,oe.clientY),e!==t);)t=e;if(h.parentNode[ee]._isOutsideThisEl(e),t)do{if(t[ee]){var n=void 0;if(n=t[ee]._onDragOver({clientX:oe.clientX,clientY:oe.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);An()}},_onTouchMove:function(e){if(Ee){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=w&&Ve(w,!0),i=w&&o&&o.a,l=w&&o&&o.d,s=at&&W&&tn(W),d=(a.clientX-Ee.clientX+r.x)/(i||1)+(s?s[0]-Pt[0]:0)/(i||1),c=(a.clientY-Ee.clientY+r.y)/(l||1)+(s?s[1]-Pt[1]:0)/(l||1);if(!b.active&&!Me){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(w){o?(o.e+=d-(Dt||0),o.f+=c-(Tt||0)):o={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");g(w,"webkitTransform",u),g(w,"mozTransform",u),g(w,"msTransform",u),g(w,"transform",u),Dt=d,Tt=c,oe=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!w){var e=this.options.fallbackOnBody?document.body:T,t=F(h,!0,at,!0,e),n=this.options;if(at){for(W=e;g(W,"position")==="static"&&g(W,"transform")==="none"&&W!==document;)W=W.parentNode;W!==document.body&&W!==document.documentElement?(W===document&&(W=ue()),t.top+=W.scrollTop,t.left+=W.scrollLeft):W=ue(),Pt=tn(W)}w=h.cloneNode(!0),Q(w,n.ghostClass,!1),Q(w,n.fallbackClass,!0),Q(w,n.dragClass,!0),g(w,"transition",""),g(w,"transform",""),g(w,"box-sizing","border-box"),g(w,"margin",0),g(w,"top",t.top),g(w,"left",t.left),g(w,"width",t.width),g(w,"height",t.height),g(w,"opacity","0.8"),g(w,"position",at?"absolute":"fixed"),g(w,"zIndex","100000"),g(w,"pointerEvents","none"),b.ghost=w,e.appendChild(w),g(w,"transform-origin",nn/parseInt(w.style.width)*100+"% "+rn/parseInt(w.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,a=n.options;if(G("dragStart",this,{evt:e}),b.eventCanceled){this._onDrop();return}G("setupClone",this),b.eventCanceled||(x=Tn(h),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),Q(x,this.options.chosenClass,!1),b.clone=x),n.cloneId=ht(function(){G("clone",n),!b.eventCanceled&&(n.options.removeCloneOnHide||T.insertBefore(x,h),n._hideClone(),Y({sortable:n,name:"clone"}))}),!t&&Q(h,a.dragClass,!0),t?(mt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(O(document,"mouseup",n._onDrop),O(document,"touchend",n._onDrop),O(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,h)),E(document,"drop",n),g(h,"transform","translateZ(0)")),Me=!0,n._dragStartId=ht(n._dragStarted.bind(n,t,e)),E(document,"selectstart",n),He=!0,Ue&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,a,o,i=this.options,l=i.group,s=b.active,d=ot===l,c=i.sort,u=H||s,p,f=this,C=!1;if(Rt)return;function S(re,tt){G(re,f,he({evt:e,isOwner:d,axis:p?"vertical":"horizontal",revert:o,dragRect:r,targetRect:a,canSort:c,fromSortable:u,target:n,completed:A,onMove:function(nt,Ct){return lt(T,t,h,r,nt,F(nt),e,Ct)},changed:$},tt))}function R(){S("dragOverAnimationCapture"),f.captureAnimationState(),f!==u&&u.captureAnimationState()}function A(re){return S("dragOverCompleted",{insertion:re}),re&&(d?s._hideClone():s._showClone(f),f!==u&&(Q(h,H?H.options.ghostClass:s.options.ghostClass,!1),Q(h,i.ghostClass,!0)),H!==f&&f!==b.active?H=f:f===b.active&&H&&(H=null),u===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){S("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(n===h&&!h.animated||n===t&&!n.animated)&&(Ae=null),!i.dragoverBubble&&!e.rootEl&&n!==document&&(h.parentNode[ee]._isOutsideThisEl(e.target),!re&&ke(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function $(){Z=te(h),ye=te(h,i.draggable),Y({sortable:f,name:"change",toEl:t,newIndex:Z,newDraggableIndex:ye,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ce(n,i.draggable,t,!0),S("dragOver"),b.eventCanceled)return C;if(h.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return A(!1);if(mt=!1,s&&!i.disabled&&(d?c||(o=I!==T):H===this||(this.lastPutMode=ot.checkPull(this,s,h,e))&&l.checkPut(this,s,h,e))){if(p=this._getDirection(e,n)==="vertical",r=F(h),S("dragOverValid"),b.eventCanceled)return C;if(o)return I=T,R(),this._hideClone(),S("revert"),b.eventCanceled||(Te?T.insertBefore(h,Te):T.appendChild(h)),A(!0);var D=Wt(t,i.draggable);if(!D||Nr(e,p,this)&&!D.animated){if(D===h)return A(!1);if(D&&t===e.target&&(n=D),n&&(a=F(n)),lt(T,t,h,r,n,a,e,!!n)!==!1)return R(),D&&D.nextSibling?t.insertBefore(h,D.nextSibling):t.appendChild(h),I=t,$(),A(!0)}else if(D&&Ir(e,p,this)){var V=Le(t,0,i,!0);if(V===h)return A(!1);if(n=V,a=F(n),lt(T,t,h,r,n,a,e,!1)!==!1)return R(),t.insertBefore(h,V),I=t,$(),A(!0)}else if(n.parentNode===t){a=F(n);var j=0,y,k=h.parentNode!==t,U=!kr(h.animated&&h.toRect||r,n.animated&&n.toRect||a,p),P=p?"top":"left",X=en(n,"top","top")||en(h,"top","top"),ae=X?X.scrollTop:void 0;Ae!==n&&(y=a[P],Ye=!1,it=!U&&i.invertSwap||k),j=Ar(e,n,a,p,U?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,it,Ae===n);var v;if(j!==0){var m=te(h);do m-=j,v=I.children[m];while(v&&(g(v,"display")==="none"||v===w))}if(j===0||v===n)return A(!1);Ae=n,Xe=j;var _=n.nextElementSibling,L=!1;L=j===1;var le=lt(T,t,h,r,n,a,e,L);if(le!==!1)return(le===1||le===-1)&&(L=le===1),Rt=!0,setTimeout(xr,30),R(),L&&!_?t.appendChild(h):n.parentNode.insertBefore(h,L?_:n),X&&Dn(X,0,ae-X.scrollTop),I=h.parentNode,y!==void 0&&!it&&(ut=Math.abs(y-F(n)[P])),$(),A(!0)}if(t.contains(h))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",ke),O(document,"mousemove",ke),O(document,"touchmove",ke)},_offUpEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._onDrop),O(e,"touchend",this._onDrop),O(e,"pointerup",this._onDrop),O(e,"touchcancel",this._onDrop),O(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Z=te(h),ye=te(h,n.draggable),G("drop",this,{evt:e}),I=h&&h.parentNode,Z=te(h),ye=te(h,n.draggable),b.eventCanceled){this._nulling();return}Me=!1,it=!1,Ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vt(this.cloneId),Vt(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ue&&g(document.body,"user-select",""),g(h,"transform",""),e&&(He&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(T===I||H&&H.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),h&&(this.nativeDraggable&&O(h,"dragend",this),xt(h),h.style["will-change"]="",He&&!Me&&Q(h,H?H.options.ghostClass:this.options.ghostClass,!1),Q(h,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:e}),T!==I?(Z>=0&&(Y({rootEl:I,name:"add",toEl:I,fromEl:T,originalEvent:e}),Y({sortable:this,name:"remove",toEl:I,originalEvent:e}),Y({rootEl:I,name:"sort",toEl:I,fromEl:T,originalEvent:e}),Y({sortable:this,name:"sort",toEl:I,originalEvent:e})),H&&H.save()):Z!==Be&&Z>=0&&(Y({sortable:this,name:"update",toEl:I,originalEvent:e}),Y({sortable:this,name:"sort",toEl:I,originalEvent:e})),b.active&&((Z==null||Z===-1)&&(Z=Be,ye=je),Y({sortable:this,name:"end",toEl:I,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){G("nulling",this),T=h=I=w=Te=x=dt=Se=Ee=oe=He=Z=ye=Be=je=Ae=Xe=H=ot=b.dragged=b.ghost=b.clone=b.active=null,yt.forEach(function(e){e.checked=!0}),yt.length=Dt=Tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),Pr(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)t=n[r],ce(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Fr(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(a,o){var i=r.children[o];ce(i,this.options.draggable,r,!1)&&(n[a]=i)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(r.removeChild(n[a]),r.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ce(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=et.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&In(n)},destroy:function(){G("destroy",this);var e=this.el;e[ee]=null,O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart),O(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bt.splice(bt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Se){if(G("hideClone",this),b.eventCanceled)return;g(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),Se=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Se){if(G("showClone",this),b.eventCanceled)return;h.parentNode==T&&!this.options.group.revertClone?T.insertBefore(x,h):Te?T.insertBefore(x,Te):T.appendChild(x),this.options.group.revertClone&&this.animate(h,x),g(x,"display",""),Se=!1}}};function Pr(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function lt(e,t,n,r,a,o,i,l){var s,d=e[ee],c=d.options.onMove,u;return window.CustomEvent&&!me&&!Ze?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=a||t,s.relatedRect=o||F(t),s.willInsertAfter=l,s.originalEvent=i,e.dispatchEvent(s),c&&(u=c.call(d,s,i)),u}function xt(e){e.draggable=!1}function xr(){Rt=!1}function Ir(e,t,n){var r=F(Le(n.el,0,n.options,!0)),a=En(n.el),o=10;return t?e.clientX<a.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<a.top-o||e.clientY<r.bottom&&e.clientX<r.left}function Nr(e,t,n){var r=F(Wt(n.el,n.options.draggable)),a=En(n.el),o=10;return t?e.clientX>a.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>a.bottom+o||e.clientX>r.right&&e.clientY>r.top}function Ar(e,t,n,r,a,o,i,l){var s=r?e.clientY:e.clientX,d=r?n.height:n.width,c=r?n.top:n.left,u=r?n.bottom:n.right,p=!1;if(!i){if(l&&ut<d*a){if(!Ye&&(Xe===1?s>c+d*o/2:s<u-d*o/2)&&(Ye=!0),Ye)p=!0;else if(Xe===1?s<c+ut:s>u-ut)return-Xe}else if(s>c+d*(1-a)/2&&s<u-d*(1-a)/2)return Mr(t)}return p=p||i,p&&(s<c+d*o/2||s>u-d*o/2)?s>c+d/2?1:-1:0}function Mr(e){return te(h)<te(e)?1:-1}function Fr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Br(e){yt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&yt.push(r)}}function ht(e){return setTimeout(e,0)}function Vt(e){return clearTimeout(e)}_t&&E(document,"touchmove",function(e){(b.active||Me)&&e.cancelable&&e.preventDefault()});b.utils={on:E,off:O,css:g,find:On,is:function(e,t){return!!ce(e,t,e,!1)},extend:br,throttle:kn,closest:ce,toggleClass:Q,clone:Tn,index:te,nextTick:ht,cancelNextTick:Vt,detectDirection:xn,getChild:Le};b.get=function(e){return e[ee]};b.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(b.utils=he(he({},b.utils),r.utils)),et.mount(r)})};b.create=function(e,t){return new b(e,t)};b.version=gr;var M=[],Ke,Lt,zt=!1,It,Nt,wt,$e;function Rr(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):n.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),an(),ft(),yr()},nulling:function(){wt=Lt=Ke=zt=$e=It=Nt=null,M.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(a,o);if(wt=t,n||this.options.forceAutoScrollFallback||Ze||me||Ue){At(t,this.options,i,n);var l=_e(i,!0);zt&&(!$e||a!==It||o!==Nt)&&($e&&an(),$e=setInterval(function(){var s=_e(document.elementFromPoint(a,o),!0);s!==l&&(l=s,ft()),At(t,r.options,s,n)},10),It=a,Nt=o)}else{if(!this.options.bubbleScroll||_e(i,!0)===ue()){ft();return}At(t,this.options,_e(i,!1),!1)}}},ve(e,{pluginName:"scroll",initializeByDefault:!0})}function ft(){M.forEach(function(e){clearInterval(e.pid)}),M=[]}function an(){clearInterval($e)}var At=kn(function(e,t,n,r){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,l=t.scrollSpeed,s=ue(),d=!1,c;Lt!==n&&(Lt=n,ft(),Ke=t.scroll,c=t.scrollFn,Ke===!0&&(Ke=_e(n,!0)));var u=0,p=Ke;do{var f=p,C=F(f),S=C.top,R=C.bottom,A=C.left,$=C.right,D=C.width,V=C.height,j=void 0,y=void 0,k=f.scrollWidth,U=f.scrollHeight,P=g(f),X=f.scrollLeft,ae=f.scrollTop;f===s?(j=D<k&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),y=V<U&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(j=D<k&&(P.overflowX==="auto"||P.overflowX==="scroll"),y=V<U&&(P.overflowY==="auto"||P.overflowY==="scroll"));var v=j&&(Math.abs($-a)<=i&&X+D<k)-(Math.abs(A-a)<=i&&!!X),m=y&&(Math.abs(R-o)<=i&&ae+V<U)-(Math.abs(S-o)<=i&&!!ae);if(!M[u])for(var _=0;_<=u;_++)M[_]||(M[_]={});(M[u].vx!=v||M[u].vy!=m||M[u].el!==f)&&(M[u].el=f,M[u].vx=v,M[u].vy=m,clearInterval(M[u].pid),(v!=0||m!=0)&&(d=!0,M[u].pid=setInterval((function(){r&&this.layer===0&&b.active._onTouchMove(wt);var L=M[this.layer].vy?M[this.layer].vy*l:0,le=M[this.layer].vx?M[this.layer].vx*l:0;typeof c=="function"&&c.call(b.dragged.parentNode[ee],le,L,e,wt,M[this.layer].el)!=="continue"||Dn(M[this.layer].el,le,L)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==s&&(p=_e(p,!1)));zt=d}},30),Mn=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||a;i();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);l(),s&&!s.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function jt(){}jt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Le(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Mn};ve(jt,{pluginName:"revertOnSpill"});function Xt(){}Xt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:Mn};ve(Xt,{pluginName:"removeOnSpill"});b.mount(new Rr);b.mount(Xt,jt);function Vr(e){return e==null?e:JSON.parse(JSON.stringify(e))}function Lr(e){Ut()&&Un(e)}function zr(e){Ut()?vn(e):st(e)}const ln=Symbol("cloneElement");function Hr(...e){var t,n;const r=(t=Ut())==null?void 0:t.proxy,a=e[0];let[,o,i]=e;Array.isArray(ie(o))||(i=o,o=null);let l=null;const{immediate:s=!0,clone:d=Vr,customUpdate:c}=(n=ie(i))!=null?n:{};function u(y){var k;y.item[ln]=d(ie((k=ie(o))==null?void 0:k[y.oldIndex]))}function p(y){const k=y.item[ln];ir(k)||(Ot(y.item),or(ie(o),y.newDraggableIndex,k))}function f(y){const{from:k,item:U,oldIndex:P,oldDraggableIndex:X,pullMode:ae,clone:v}=y;if(ae==="clone"){Gt(k,U,P),Ot(v);return}rr(ie(o),X)}function C(y){if(c){c(y);return}const{from:k,item:U,oldIndex:P,newIndex:X}=y;if(Ot(U),Gt(k,U,P),Wn(o)){const ae=[...ie(o)];o.value=qt(ae,P,X);return}qt(ie(o),P,X)}const S={onUpdate:C,onStart:u,onAdd:p,onRemove:f};function R(y){const k=ie(a);return y||(y=ar(k)?lr(k,r==null?void 0:r.$el):k),y&&!dr(y)&&(y=y.$el),y||er("Root element not found"),y}function A(){var y;const k=(y=ie(i))!=null?y:{},U=yn(k,["immediate","clone"]);return cr(o===null?{}:S,U)}const $=y=>{y=R(y),l&&D.destroy(),l=new b(y,A())};pt(()=>i,()=>{l&&ur(A(),(y,k)=>{l==null||l.option(y,k)})},{deep:!0});const D={option:(y,k)=>l==null?void 0:l.option(y,k),destroy:()=>{l==null||l.destroy(),l=null},save:()=>l==null?void 0:l.save(),toArray:()=>l==null?void 0:l.toArray(),closest:(...y)=>l==null?void 0:l.closest(...y)},V=()=>D==null?void 0:D.option("disabled",!0),j=()=>D==null?void 0:D.option("disabled",!1);return zr(()=>{s&&$()}),Lr(D.destroy),Fe({start:$,pause:V,resume:j},D)}const Ht=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],Kr=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Ht.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],$r=Qe({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:Kr,emits:["update:modelValue",...Ht],setup(e,{slots:t,emit:n,expose:r,attrs:a}){const o=Ht.reduce((c,u)=>{const p=`on${u.replace(/^\S/,f=>f.toUpperCase())}`;return c[p]=(...f)=>n(u,...f),c},{}),i=q(()=>{const c=Kn(e),u=yn(c,["modelValue"]),p=Object.entries(u).reduce((f,[C,S])=>{const R=ie(S);return R!==void 0&&(f[C]=R),f},{});return Fe(Fe({},o),nr(Fe(Fe({},a),p)))}),l=q({get:()=>e.modelValue,set:c=>n("update:modelValue",c)}),s=de(),d=Re(Hr(e.target||s,l,i));return r(d),()=>{var c;return $n(e.tag||"div",{ref:s},(c=t==null?void 0:t.default)==null?void 0:c.call(t,d))}}});var Ur=!1,Wr=!0;function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}function jr(e,t){if(Je(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Je(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e){var t=jr(e,"string");return Je(t)=="symbol"?t:t+""}function sn(e,t,n){return(t=Xr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}/*!
 * helper-js v3.1.5
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */function Kt(e){return Object.prototype.toString.call(e)==="[object Array]"}function Yr(e,t){return e<t?e:t}function Fn(e,t){let n,r=0;for(;(n=e.indexOf(t))>-1;)e.splice(n,1),r++;return r}function Bn(e){return e[e.length-1]}function qr(e,t){let n=new Set(t);const r={};return n.forEach(a=>{r[a]=e[a]}),r}function Gr(e,t,n){e.hasOwnProperty(t)||(e[t]=n)}function Jr(e,t){return Object.keys(t).forEach(n=>{Gr(e,n,t[n])}),e}function Qr(e){const t={};return Object.keys(e).forEach(n=>{e[n]!==void 0&&(t[n]=e[n])}),t}function we(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n=Jr({...n},{childrenKey:"children"});const{childrenKey:r}=n,a=Kt(e)?e:[e];class o{}const i=(l,s,d)=>{n.reverse&&(l=l.slice(),l.reverse());const c=l.length;for(let u=0;u<c;u++){const p=l[u],f=n.reverse?c-u-1:u,C=d?[...d,f]:[];n.childFirst&&p[r]!=null&&i(p[r],p,C);const S=t(p,f,s,C);if(S===!1)throw new o;if(S==="skip children")continue;if(S==="skip siblings")break;n.childFirst||p[r]!=null&&i(p[r],p,C)}};try{i(a,null,Kt(e)?[]:null)}catch(l){if(!(l instanceof o))throw l}}function Zr(e,t){const n={childrenKey:"children"},{childrenKey:r,nodeHandler:a}=n,o=new $t;return o.childrenKey=r,we(e,(i,l,s,d)=>{let c=Object.assign({},i);c[r]&&(c[r]=[]),a&&(c=a(c,{oldNode:i,index:l,parent:s,path:d})),o.set(d,c)},{childrenKey:r}),o.data}class $t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];sn(this,"data",void 0),sn(this,"childrenKey","children"),this.data=t}get rootChildren(){const{childrenKey:t}=this,{data:n}=this;return Kt(n)?n:n[t]}*iteratePath(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{childrenKey:r,rootChildren:a}=this;if(n.reverse){const o=[...this.iteratePath(t,{...n,reverse:!1})];o.reverse();for(const{path:i,node:l}of o)yield{path:i,node:l}}else{let o=[],i=a;for(const l of t){const s=[...o,l],d=i[l];yield{path:s,node:d},o=s,i=d[r]}}}getFamily(t){const n=[];for(const{node:r}of this.iteratePath(t))n.push(r);return n}get(t){return Bn(this.getFamily(t))}getParentAndIndex(t){const n=t.slice(),r=n.pop();return{parent:this.get(n),index:r,parentPath:n}}getParent(t){return this.getParentAndIndex(t).parent}set(t,n){if(t==null||t.length===0)this.data=n;else{const{childrenKey:r}=this;let{rootChildren:a}=this;const{parent:o,index:i}=this.getParentAndIndex(t);let l;t.length===1?(a||(this.data?this.data[r]=[]:this.data=[]),l=a):(o[r]||(o[r]=[]),l=o[r]),l[i]=n}}delete(t){const{childrenKey:n,rootChildren:r}=this,{parent:a,index:o}=this.getParentAndIndex(t),i=t.length===1?r:a[n],l=i[o];return i.splice(o,1),l}walk(t,n){const{childrenKey:r,data:a}=this;return we(a,t,r,n)}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zr(this.data),Qr({childrenKey:this.childrenKey,nodeHandler:t.nodeHandler||void 0})}}function eo(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function cn(e,t){return getComputedStyle(e)[t]}function dn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n={start:0,end:e.length-1,maxTimes:1e3,...n};let{start:r,end:a}=n;const{returnNearestIfNoHit:o,maxTimes:i}=n;let l,s;r==null&&(r=0,a=e.length-1);let d=0,c;for(;r>=0&&r<=a;){if(d>=i)throw Error("binarySearch: loop times is over ".concat(i,", you can increase the limit."));l=Math.floor((a-r)/2+r),s=e[l];const u=d+1;if(c=t(s,l,u),c>0)a=l-1;else if(c<0)r=l+1;else return{index:l,value:s,count:u,hit:!0};d++}return o?{index:l,value:s,count:d+1,hit:!1,greater:c>0}:null}/*!
 * @virtual-list/vue
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: https://virtual-list.phphe.com
 * Released under the MIT License.
 */var Rn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const to=Qe({props:{table:Boolean}}),no={key:0},ro={key:1};function oo(e,t,n,r,a,o){return e.table?(N(),B("table",no,[K(e.$slots,"prepend"),ne("tbody",null,[K(e.$slots,"default")]),K(e.$slots,"append")])):(N(),B("div",ro,[K(e.$slots,"prepend"),K(e.$slots,"default"),K(e.$slots,"append")]))}var io=Rn(to,[["render",oo]]);const ao=Qe({components:{VirtualListTable:io},props:{items:Array,disabled:Boolean,horizontal:Boolean,firstRender:{type:Number,default:10},buffer:{type:Number,default:100},itemKey:{type:[String,Function]},itemSize:{type:Function},table:Boolean},setup(e){const t=de(0),n=de(e.firstRender-1),r=q(()=>{var v;return Yr(n.value,(((v=e.items)==null?void 0:v.length)||1)-1)}),a=de(0),o=q(()=>p.value[t.value]?P(t.value):0),i=q(()=>p.value.length>0?P(p.value.length-1)+Bn(u.value):0),l=q(()=>p.value[r.value]?i.value-P(r.value)-u.value[r.value]:0),s=q(()=>e.disabled?{}:{overflow:"auto"}),d=q(()=>{const v={display:"flex"};return e.disabled||(e.horizontal?Object.assign(v,{"margin-left":o.value+"px","margin-right":l.value+"px",width:i.value-l.value-o.value+"px"}):Object.assign(v,{"margin-top":o.value+"px","margin-bottom":l.value+"px"})),v["flex-direction"]=e.horizontal?"row":"column",e.table&&(delete v.display,delete v["flex-direction"]),v}),c=q(()=>Re((e.items||[]).map(()=>null))),u=q(()=>(e.items||[]).map((v,m)=>{var _;if(c[m]!=null)return c[m];let L=(_=e.itemSize)==null?void 0:_.call(e,v,m);return L==null&&(L=a.value),L})),p=q(()=>{const v=[];return u.value.reduce((m,_)=>(v.push(m),m+_),0),v});pt(()=>e.items,V);const f=q(()=>{if(!e.items||e.disabled)return;const v=[];for(let m=t.value;m<=r.value;m++){const _=e.items[m];if(!_)break;v.push({item:_,index:m})}return v}),C=de(),S=de();vn(async()=>{V();try{X()}catch{await st(),V()}});let R;function A(){const v=C.value;if(!v)return;const m=k(v);R!=null&&e.buffer-Math.abs(m-R)>=10||(R=m,V())}let $=!1,D=!1;async function V(){var v;if($){D=!0;return}if(!e.items||e.disabled)return;$=!0;const m=C.value,_=(v=S.value)==null?void 0:v.$el;if(!m||!_)return;a.value||(a.value=Ln()),t.value=nt(),n.value=Ct(),await st();let L,le=0;const re={},tt=e.table?_.querySelector("tbody").children:_.children;for(let se=0;se<tt.length;se++){const z=tt[se],fe=cn(z,"position");if(fe&&["absolute","fixed"].includes(fe))continue;const Ce=cn(z,"display")!=="none"?y(z):0,Oe=z.getAttribute("vt-index"),rt=Oe?parseInt(Oe):t.value+le;re[rt]=(re[rt]||0)+Ce,le++}for(const se of Object.keys(re)){const z=parseInt(se);c.value[z]!==re[z]&&(c.value[z]=re[z],L=!0)}L&&await st(),$=!1,D&&(D=!1,V());function nt(){const se=k(m)-U(m)-e.buffer;return dn(p.value,fe=>fe-se,{returnNearestIfNoHit:!0}).index}function Ct(){const se=k(m)-U(m)+j(m)+e.buffer;return dn(p.value,fe=>fe-se,{returnNearestIfNoHit:!0}).index}function Ln(){const z=[],fe=e.table?_.querySelector("tbody").children:_.children;for(let Ce=0;Ce<fe.length;Ce++){const Oe=fe[Ce],rt=getComputedStyle(Oe);if(["absolute","fixed"].includes(rt.position))continue;const zn=y(Oe);if(z.push(zn),z.length>=10)break}return z.length===0?0:z.reduce((Ce,Oe)=>Ce+Oe,0)/z.length}}function j(v){const m=getComputedStyle(v);let _=parseFloat(e.horizontal?m.width:m.height);return m.boxSizing==="border-box"&&(e.horizontal?_=_-parseFloat(m.borderLeftWidth)-parseFloat(m.borderRightWidth):_=_-parseFloat(m.borderTopWidth)-parseFloat(m.borderBottomWidth)),_}function y(v){let m=j(v);const _=getComputedStyle(v);return e.horizontal?m+=parseFloat(_.borderLeftWidth)+parseFloat(_.borderRightWidth)+parseFloat(_.marginLeft)+parseFloat(_.marginRight):m+=parseFloat(_.borderTopWidth)+parseFloat(_.borderBottomWidth)+parseFloat(_.marginTop)+parseFloat(_.marginBottom),m=Number.isNaN(m)?0:m,m}function k(v){return e.horizontal?v.scrollLeft:v.scrollTop}function U(v){const m=getComputedStyle(v);return e.horizontal?parseFloat(m.paddingLeft):parseFloat(m.paddingTop)}function P(v){return p.value[v]}function X(){const v=C.value;new ResizeObserver(_=>{for(let L of _)if(eo(L.target,"vtlist")){V();break}}).observe(v)}function ae(v,m){if(e.itemKey){if(typeof e.itemKey=="string"&&e.itemKey==="index")return m;if(typeof e.itemKey=="function")return e.itemKey(v,m)}}return{listElRef:C,listInnerRef:S,onscroll:A,listStyle:s,listInnerStyle:d,visibleItemsInfo:f,getItemKey:ae,update:V,sizes:u,positions:p,runtimeSizes:c}}}),lo=ao;function so(e,t,n,r,a,o){const i=Pe("VirtualListTable");return N(),B("div",{class:"vtlist",ref:"listElRef",style:xe(e.listStyle),onScrollPassive:t[0]||(t[0]=(...l)=>e.onscroll&&e.onscroll(...l))},[be(i,{class:"vtlist-inner",ref:"listInnerRef",style:xe(e.listInnerStyle),table:e.table},{prepend:pe(()=>[K(e.$slots,"prepend")]),append:pe(()=>[K(e.$slots,"append")]),default:pe(()=>[e.disabled?(N(!0),B(Ie,{key:0},qe(e.items,(l,s)=>K(e.$slots,"default",{key:e.getItemKey(l,s),item:l,index:s})),128)):(N(!0),B(Ie,{key:1},qe(e.visibleItemsInfo,({item:l,index:s})=>K(e.$slots,"default",{key:e.getItemKey(l,s),item:l,index:s})),128))]),_:3},8,["style","table"])],36)}var co=Rn(lo,[["render",so]]);/*!
 * @he-tree/tree-utils v0.1.0-alpha.4
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */const ze="children";function uo(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={...ho,...n,data:e,stats:null,statsFlat:null,_statsMap:null,initialized:!1,init(){const{data:o,childrenKey:i}=this,l=new $t([]);this._statsMap=new Map,we(o,(d,c,u,p)=>{const f=this.statHandler({...un(),data:d,open:!!this.defaultOpen,parent:l.getParent(p),children:[],level:p.length});this._statsMap.set(d,f),l.set(p,f)},{childrenKey:i});const s=[];l.walk(d=>{s.push(d)}),this.stats=this.statsHandler(l.rootChildren),this.statsFlat=this.statsFlatHandler(s),this.initialized=!0},getStat(o){let i=this._statsMap.get(o);if(!i)throw new hn("Stat not found");return i},has(o){if(o.isStat)return this.statsFlat.indexOf(o)>-1;try{return!!this.getStat(o)}catch(i){if(i instanceof hn)return!1;throw i}},_getPathByStat(o){if(o==null)return[];const l=this.getSiblings(o).indexOf(o);return[...o.parent?this._getPathByStat(o.parent):[],l]},afterOneCheckChanged(o){const{checked:i}=o;if(o._ignoreCheckedOnce)return delete o._ignoreCheckedOnce,!1;const l=s=>{const{parent:d}=s;if(d){let c,u;for(const f of d.children)if(f.checked||f.checked===0)c=!0;else if(u=!0,c&&u)break;const p=u?c?0:!1:!0;d.checked!==p&&(this._ignoreCheckedOnce(d),d.checked=p),l(d)}};return l(o),we(o.children,s=>{s.checked!==i&&(this._ignoreCheckedOnce(s),s.checked=i)},{childrenKey:ze}),!0},_ignoreCheckedOnce(o){o._ignoreCheckedOnce=!0,setTimeout(()=>{o._ignoreCheckedOnce&&(o._ignoreCheckedOnce=!1)},100)},isVisible(o){const i=o.isStat?o:this.getStat(o),l=s=>!s||!s.hidden&&s.open&&l(s.parent);return!!(!i.hidden&&l(i.parent))},updateCheck(){we(this.stats,o=>{if(o.children&&o.children.length>0){const i=o.children.every(l=>l.checked);o.checked!==i&&(this._ignoreCheckedOnce(o),o.checked=i)}},{childFirst:!0,childrenKey:ze})},getChecked(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.statsFlat.filter(i=>i.checked||o&&i.checked===0)},getUnchecked(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.statsFlat.filter(i=>o?!i.checked:i.checked===!1)},openAll(){for(const o of this.statsFlat)o.open=!0},closeAll(){for(const o of this.statsFlat)o.open=!1},openNodeAndParents(o){const i=o.isStat?o:this.getStat(o);for(const l of this.iterateParent(i,{withSelf:!0}))l.open=!0},_calcFlatIndex(o,i){let l=o?this.statsFlat.indexOf(o)+1:0;const s=o?o.children:this.stats;for(let d=0;d<i;d++)l+=this._count(s[d]);return l},add(o,i,l){if(this.has(o))throw"Can't add because data exists in tree";const s=i?i.children:this.stats;l==null&&(l=s.length);const d=this.statHandler({...un(),open:!!this.defaultOpen,data:o,parent:i||null,children:[],level:i?i.level+1:1});this._setPosition(d,i||null,l);const c=o[this.childrenKey];if(c){const u=c.slice();for(const p of u)this.add(p,d)}},remove(o){const i=this.getSiblings(o);if(i.includes(o)){Fn(i,o);const l=this._flat(o);this.statsFlat.splice(this.statsFlat.indexOf(o),l.length);for(const s of l)this._statsMap.delete(s.data);return this.afterRemoveStat(o),!0}return!1},getSiblings(o){const{parent:i}=o;return i?i.children:this.stats},_setPosition(o,i,l){(i?i.children:this.stats).splice(l,0,o),o.parent=i,o.level=i?i.level+1:1;const d=this._calcFlatIndex(i,l),c=this._flat(o);this.statsFlat.splice(d,0,...c);for(const u of c)this._statsMap.has(u.data)||this._statsMap.set(u.data,u);we(o,(u,p,f)=>{f&&(u.level=f.level+1)},{childrenKey:ze}),this.afterSetStat(o,i,l)},*iterateParent(o,i){let l=i!=null&&i.withSelf?o:o.parent;for(;l;)yield l,l=l.parent},move(o,i,l){if(this.has(o)){if(o.parent===i&&this.getSiblings(o).indexOf(o)===l)return!1;if(o===i)throw new Error("Can't move node to it self");if(i&&o.level<i.level){let s;for(const d of this.iterateParent(i))if(d.level===o.level){s=d;break}if(o===s)throw new Error("Can't move node to its descendant")}this.remove(o)}return this._setPosition(o,i,l),!0},_flat(o){const i=[];return we(o,l=>{i.push(l)},{childrenKey:ze}),i},_count(o){return this._flat(o).length},getData(o,i){const{childrenKey:l}=this,s=new $t([]);return s.childrenKey=l,we(i||this.stats,(d,c,u,p)=>{let f={...d.data,[l]:[]};o&&(f=o(f)),s.set(p,f)},{childrenKey:ze}),s.data}},a=r;return r.noInitialization||a.init(),a}const ho={childrenKey:"children",defaultOpen:!1,statsHandler(e){return e},statsFlatHandler(e){return e},afterSetStat(e,t,n){},afterRemoveStat(e){},statHandler(e){return e}};function un(){return{isStat:!0,hidden:!1,checked:!1,style:null,class:null,draggable:null,droppable:null}}class hn extends Error{constructor(t){super(t),this.name="StatNotFoundError"}}var fo=Object.defineProperty,po=Object.defineProperties,go=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,vo=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bo=(e,t)=>{for(var n in t||(t={}))vo.call(t,n)&&pn(e,n,t[n]);if(fn)for(var n of fn(t))mo.call(t,n)&&pn(e,n,t[n]);return e},yo=(e,t)=>po(e,go(t)),Vn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};let St=!1;const wo=()=>{St=!0,setTimeout(()=>{St=!1},100)},So=Qe({props:["stat","rtl","btt","indent","table","treeLine","treeLineOffset","processor"],emits:["open","close","check"],setup(e,{emit:t}){const n=q(()=>({[e.rtl?"paddingRight":"paddingLeft"]:e.indent*(e.stat.level-1)+"px"}));pt(()=>e.stat.checked,o=>{St||e.processor.afterOneCheckChanged(e.stat)&&t("check",e.stat)}),pt(()=>e.stat.open,o=>{St||(t(o?"open":"close",e.stat),wo())});const r=q(()=>{const o=[],i=c=>{var u;if(c.parent){let p=(u=c.parent)==null?void 0:u.children.indexOf(c);do{p++;let f=c.parent.children[p];if(f){if(!f.hidden)return!0}else break}while(!0)}return!1},l=e.rtl?"right":"left",s=e.btt?"top":"bottom";let d=e.stat;for(;d;){let c=(d.level-2)*e.indent+e.treeLineOffset;const u=i(d),p=()=>{o.push({style:{[l]:c+"px",[s]:u?0:"50%"}})};d===e.stat?d.level>1&&p():u&&p(),d=d.parent}return o}),a=q(()=>{let o=(e.stat.level-2)*e.indent+e.treeLineOffset;return{[e.rtl?"right":"left"]:o+"px"}});return{indentStyle:n,vLines:r,hLineStyle:a}}}),_o=So,Co={class:"tree-node-inner"},Oo={key:1,class:"tree-node",ref:"el"};function Eo(e,t,n,r,a,o){return e.table?(N(),B("tr",Oo,[K(e.$slots,"default",{indentStyle:e.indentStyle})],512)):(N(),B("div",{key:0,class:Ge(["tree-node",{"tree-node--with-tree-line":e.treeLine}]),style:xe(e.indentStyle),ref:"el"},[e.treeLine?(N(),B(Ie,{key:0},[(N(!0),B(Ie,null,qe(e.vLines,i=>(N(),B("div",{class:"tree-line tree-vline",style:xe(i.style)},null,4))),256)),e.stat.level>1?(N(),B("div",{key:0,class:"tree-line tree-hline",style:xe(e.hLineStyle)},null,4)):Bt("",!0)],64)):Bt("",!0),ne("div",Co,[K(e.$slots,"default",{indentStyle:e.indentStyle})])],6))}var ko=Vn(_o,[["render",Eo]]);function Do(e,t={}){const n=yo(bo({},t),{statHandler(r){return this._statHandler2&&(r=this._statHandler2(r)),Mt(t.statHandler,Re(r))},statsHandler(r){return Mt(t.statsHandler,Re(r))},statsFlatHandler(r){return Mt(t.statsFlatHandler,Re(r))}});return uo(e,n)}function Mt(e,t){return e?e(t):t}const To=Qe({components:{VirtualList:co,TreeNode:ko},props:{value:{required:Ur,type:Array},modelValue:{required:Wr,type:Array},updateBehavior:{type:String,default:"modify"},processor:{type:Object,default:()=>Do([],{noInitialization:!0})},childrenKey:{type:String,default:"children"},textKey:{type:String,default:"text"},indent:{type:Number,default:20},virtualization:{type:Boolean,default:!1},virtualizationPrerenderCount:{type:Number,default:20},defaultOpen:{type:Boolean,default:!0},statHandler:{type:Function},rtl:{type:Boolean,default:!1},btt:{type:Boolean,default:!1},table:{type:Boolean,default:!1},watermark:{type:Boolean,default:!1},nodeKey:{type:[String,Function],default:"index"},treeLine:{type:Boolean,default:!1},treeLineOffset:{type:Number,default:8}},emits:["update:modelValue","click:node","open:node","close:node","check:node","beforeDragStart","before-drag-start","after-drop","change","enter","leave"],data(){return{stats:[],statsFlat:[],dragNode:null,dragOvering:!1,placeholderData:{},placeholderColspan:1,batchUpdateWaiting:!1,self:this,_ignoreValueChangeOnce:!1}},computed:{valueComputed(){return this.modelValue||[]},visibleStats(){const{statsFlat:e,isVisible:t}=this;let n=e;return this.btt&&(n=n.slice(),n.reverse()),n.filter(r=>t(r))},rootChildren(){return this.stats}},methods:{_emitValue(e){this.$emit("update:modelValue",e)},_updateValue(e){return this.updateBehavior==="disabled"?!1:(e!==this.valueComputed&&(this._ignoreValueChangeOnce=!0),this._emitValue(e),!0)},getStat:Ft(J("getStat")),has:Ft(J("has")),updateCheck:J("updateCheck"),getChecked:J("getChecked"),getUnchecked:J("getUnchecked"),openAll:J("openAll"),closeAll:J("closeAll"),openNodeAndParents:J("openNodeAndParents"),isVisible:J("isVisible"),move:gn("move"),add:Ft(gn("add")),addMulti(e,t,n){this.batchUpdate(()=>{let r=n;for(const a of e)this.add(a,t,r),r!=null&&r++})},remove:J("remove"),removeMulti(e){let t=[...e];this.batchUpdate(()=>{for(const n of t)this.remove(n)})},iterateParent:J("iterateParent"),getSiblings:J("getSiblings"),getData:J("getData"),getRootEl(){return this.$refs.vtlist.listElRef},batchUpdate(e){const t=this.ignoreUpdate(e);return this.batchUpdateWaiting||this._updateValue(this.updateBehavior==="new"?this.getData():this.valueComputed),t},ignoreUpdate(e){const t=this.batchUpdateWaiting;this.batchUpdateWaiting=!0;const n=e();return this.batchUpdateWaiting=t,n}},watch:{processor:{immediate:!0,handler(e){if(e){const t=n=>{if(n){const{childrenKey:r}=this;return n[r]||(n[r]=[]),n[r]}else return this.valueComputed};e._statHandler2=this.statHandler?n=>n.data===this.placeholderData?n:this.statHandler(n):null,e.afterSetStat=(n,r,a)=>{const{childrenKey:o,updateBehavior:i}=this;let l=this.valueComputed;if(i==="new"){if(this.batchUpdateWaiting)return;l=this.getData()}else if(i==="modify"){const s=t(r==null?void 0:r.data);s.includes(n.data)||s.splice(a,0,n.data)}this.batchUpdateWaiting||this._updateValue(l)},e.afterRemoveStat=n=>{var r;const{childrenKey:a,updateBehavior:o}=this;let i=this.valueComputed;if(o==="new"){if(this.batchUpdateWaiting)return;i=this.getData()}else if(o==="modify"){const l=t((r=n.parent)==null?void 0:r.data);Fn(l,n.data)}this.batchUpdateWaiting||this._updateValue(i)}}e.initialized||(e.data=this.valueComputed,Object.assign(e,qr(this,["childrenKey","defaultOpen"])),e.init(),e.updateCheck()),this.stats=e.stats,this.statsFlat=e.statsFlat,e.data!==this.valueComputed&&this._updateValue(e.data)}},valueComputed:{handler(e){if(this.dragOvering||this.dragNode||this._ignoreValueChangeOnce)this._ignoreValueChangeOnce=!1;else{const{processor:n}=this;n.data=e,n.init(),this.stats=n.stats,this.statsFlat=n.statsFlat}}}},created(){},mounted(){this.watermark===!1&&(window._heTreeWatermarkDisabled=!0),this.watermark&&!window._heTreeWatermarkDisabled&&(window._heTreeWatermark||(window._heTreeWatermark=!0,console.log("%c[he-tree] Vue tree component:  https://hetree.phphe.com","color:#0075ff; font-size:14px;")))}}),Po=To;function J(e){return function(...t){return this.processor[e](...t)}}function gn(e){return function(...t){return this.batchUpdate(()=>this.processor[e](...t))}}function Ft(e){return function(t,...n){return t&&(t=Re(t)),e.call(this,t,...n)}}const xo={key:0,class:"drag-placeholder he-tree-drag-placeholder"},Io=["colspan"],No={class:"drag-placeholder he-tree-drag-placeholder"};function Ao(e,t,n,r,a,o){const i=Pe("TreeNode"),l=Pe("VirtualList");return N(),jn(l,{class:Ge(["he-tree",{"he-tree--rtl rtl":e.rtl,"he-tree--drag-overing drag-overing":e.dragOvering}]),ref:"vtlist",items:e.visibleStats,disabled:!e.virtualization,table:e.table,itemKey:e.nodeKey},{prepend:pe(()=>[K(e.$slots,"prepend",{tree:e.self})]),default:pe(({item:s,index:d})=>[be(i,{"vt-index":d,class:Ge([s.class,{"drag-placeholder-wrapper":s.data===e.placeholderData,"dragging-node":s===e.dragNode}]),style:xe(s.style),stat:s,rtl:e.rtl,btt:e.btt,indent:e.indent,table:e.table,treeLine:e.treeLine,treeLineOffset:e.treeLineOffset,processor:e.processor,onClick:c=>e.$emit("click:node",s),onOpen:t[0]||(t[0]=c=>e.$emit("open:node",c)),onClose:t[1]||(t[1]=c=>e.$emit("close:node",c)),onCheck:t[2]||(t[2]=c=>e.$emit("check:node",c))},{default:pe(({indentStyle:c})=>[s.data===e.placeholderData?(N(),B(Ie,{key:0},[e.table?(N(),B("td",{key:1,style:xe(c),colspan:e.placeholderColspan},[ne("div",No,[K(e.$slots,"placeholder",{tree:e.self})])],12,Io)):(N(),B("div",xo,[K(e.$slots,"placeholder",{tree:e.self})]))],64)):K(e.$slots,"default",{key:1,node:s.data,stat:s,indentStyle:c,tree:e.self},()=>[Xn(De(s.data[e.textKey]),1)])]),_:2},1032,["vt-index","class","style","stat","rtl","btt","indent","table","treeLine","treeLineOffset","processor","onClick"])]),append:pe(()=>[K(e.$slots,"append",{tree:e.self})]),_:3},8,["class","items","disabled","table","itemKey"])}var Mo=Vn(Po,[["render",Ao]]);const Fo={components:{BaseTree:Mo,VueDraggable:$r,close_icon:Hn},emits:["close"],setup(e,{emit:t}){const n=de(!1),r=de([]),a=de([]);r.value=e.pages??[],(()=>{let p=e.active_links;for(let f=0;f<p.length;f++){const C=p[f].page;C.type=p[f].type,C.type==e.item.type&&(a.value[a.value.length]=C)}})();const i=()=>{c()},l=()=>{c(),console.log("add")},s=()=>{c(),console.log("remove")},d=()=>{t("close")},c=()=>{n.value=!0;var p=new URLSearchParams;p.append("params[type]",e.item.type),p.append("params[items]",JSON.stringify(a.value.filter(f=>f!=null))),p.append("type","Menu.update"),Gn(p,"/api/update").then(f=>{n.value=!1,Jn(f)})};return console.log(a.value),console.log(r.value),{treeData:de([{text:"Projects",children:[{text:"Frontend",children:[{text:"Vue",children:[{text:"Nuxt"}]},{text:"React",children:[{text:"Next"}]},{text:"Angular"}]},{text:"Backend"}]},{text:"Photos"},{text:"Videos"}]),loader:n,allPages:r,selectedPages:a,back:d,translate:qn,saveItem:c,onUpdate:i,onAdd:l,remove:s}},props:["path","langs","setting","conf","auth","pages","categories","active_links","item"]},Bo={class:"w-full relative"},Ro=ne("img",{class:"m-auto w-500px",src:"/uploads/loader.gif"},null,-1),Vo=[Ro],Lo=["textContent"],zo=["textContent"],Ho={class:"flex"},Ko={class:"w-300px h-300px"},$o={class:"flex text-center"},Uo=["textContent"],Wo=["textContent"],jo={class:"flex justify-between"};function Xo(e,t,n,r,a,o){const i=Pe("close_icon"),l=Pe("VueDraggable"),s=Pe("preview-list"),d=Pe("BaseTree");return N(),B("div",Bo,[be(i,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:r.back},null,8,["onClick"]),r.loader?(N(),B("div",{key:r.loader,class:"bg-white fixed w-full h-full top-0 left-0",style:{"z-index":"99999",opacity:".9"}},Vo)):Bt("",!0),ne("h2",{textContent:De(n.item.name)},null,8,Lo),ne("p",{textContent:De(r.translate("Drag & Drop your link for menu")+" "+n.item.type)},null,8,zo),ne("div",Ho,[ne("div",Ko,[ne("div",$o,[ne("span",{class:Ge(["w-full px-4 py-2",r.allPages==n.pages?"bg-red-600 border border-1 border-danger  fw-bold rounded-xl":"cursor-pointer"]),onClick:t[0]||(t[0]=c=>r.allPages=n.pages),textContent:De(r.translate("Pages"))},null,10,Uo),ne("span",{class:Ge(["w-full px-4 py-2",r.allPages==n.categories?"bg-red-600 border border-1 border-danger  fw-bold rounded-xl":"cursor-pointer"]),onClick:t[1]||(t[1]=c=>r.allPages=n.categories),textContent:De(r.translate("Categories"))},null,10,Wo)]),be(l,{class:"shadow-sm shadow-sm flex flex-col gap-2 p-4 w-300px h-300px m-auto bg-white overflow-auto",modelValue:r.allPages,"onUpdate:modelValue":t[2]||(t[2]=c=>r.allPages=c),animation:"150",ghostClass:"ghost",group:"people"},{default:pe(()=>[(N(!0),B(Ie,null,qe(r.allPages,c=>(N(),B("div",{key:c,class:"cursor-move h-30 bg-gray-500/5 rounded p-3"},De(c.name),1))),128))]),_:1},8,["modelValue"])]),be(l,{class:"shadow-sm shadow-sm flex flex-col gap-2 p-4 w-300px h-300px m-auto bg-white overflow-auto",modelValue:r.selectedPages,"onUpdate:modelValue":t[3]||(t[3]=c=>r.selectedPages=c),animation:"150",group:"people",ghostClass:"ghost",onUpdate:r.saveItem,onAdd:r.saveItem,onRemove:r.saveItem},{default:pe(()=>[(N(!0),B(Ie,null,qe(r.selectedPages,c=>(N(),B("div",{key:c,class:"cursor-move h-30 bg-gray-500/5 rounded p-3 my-1"},De(c.name),1))),128))]),_:1},8,["modelValue","onUpdate","onAdd","onRemove"])]),ne("div",jo,[be(s,{list:r.allPages},null,8,["list"]),be(s,{list:r.selectedPages},null,8,["list"])]),be(d,{modelValue:r.treeData,"onUpdate:modelValue":t[4]||(t[4]=c=>r.treeData=c)},null,8,["modelValue"])])}const Go=Yn(Fo,[["render",Xo]]);export{Go as default};
