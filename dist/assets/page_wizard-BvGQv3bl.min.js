const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["side-form-create-Erh65m2N.min.js","Close-Sot7sZnH.min.js","index.min.js","index.min.css","Field-Tnir7YLy.min.js","Field.min.css","multiselect-CWJtfgcH.min.js","side-form-update-DvNZ6-DQ.min.js","form_field-DQZerJN7.min.js","ckeditor5-DreMk_05.min.js","merge-Djw59nkz.min.js","ckeditor5.min.css","index-DB8ZYJlW.min.js"])))=>i.map(i=>d[i]);
import{_ as j,r,t as f,a as T,o as a,c as l,b as t,k as x,d as o,h as L,e as m,z as p,F as C,g as y,w as b,v as k,l as V,m as O,p as M,s as F,E as G}from"./index.min.js";import J from"./Close-Sot7sZnH.min.js";import{d as z}from"./trash-D--yMlDB.min.js";import{r as B}from"./route-BPoP-zEA.min.js";import{c as H}from"./car-d1fh6vla.min.js";import{f as K}from"./Field-Tnir7YLy.min.js";import{c as Q,s as W}from"./color-picker-A3IKzGFB.min.js";import{D as X}from"./vue3-easy-data-table.es-D9U6TqRN.min.js";import{e as Y}from"./vue3-tags-input.esm-BowNGMhM.min.js";import"./multiselect-CWJtfgcH.min.js";import"./merge-Djw59nkz.min.js";const Z=V(()=>O(()=>import("./side-form-create-Erh65m2N.min.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),$=V(()=>O(()=>import("./side-form-update-DvNZ6-DQ.min.js"),__vite__mapDeps([7,1,2,3,4,5,8,6,9,10,11,12]))),tt=V(()=>O(()=>import("./form_field-DQZerJN7.min.js"),__vite__mapDeps([8,1,2,3,4,5,6,9,10,11,12]))),et={components:{datatabble:X,"vue-medialibrary-field":K,color_picker:Q,static_field:W,Vue3TagsInput:Y,SideFormCreate:Z,SideFormUpdate:$,close_icon:J,delete_icon:z,car_icon:H,route_icon:B,form_field:tt},name:"Pages",emits:["callback"],setup(w,{emit:_}){const i=r(!1),e=r(!1),h=r({page_id:0,picture:"/uploads/img/placeholder.png",content_langs:{}}),U=r("english"),S=r([]),I=r(f("General")),d=r({}),n=r(!1),s=r([{title:f("Default"),value:"layout"},{title:f("Fullwidth"),value:""}]),E=r([f("General"),f("SEO")]),D=w.conf.url+w.path+"?load=json",P=()=>{M(D).then(u=>{var c=JSON.parse(JSON.stringify(u));h.value=c.item??h.value,d.value=c,S.value=d.value.categories})};return P(),{getLang:(u,c)=>(h.value.content_langs[c]=u.content_langs[c]??{},h.value.content_langs[c]),showAddPage:i,showEditSide:e,closeSide:()=>{P(),i.value=!1},content:d,templates:s,tabs:E,categories:S,activeItem:h,activeTab:I,translate:f,collapsed:n,seoLang:U,save:()=>{var u=new URLSearchParams;let c=JSON.parse(JSON.stringify(h.value)),q=Object.keys(c),v,N;for(let g=0;g<q.length;g++)v=q[g],N=typeof c[v]=="object"||typeof c[v]=="array"?JSON.stringify(c[v]):c[v],u.append("params["+v+"]",N);let A=c.page_id>0?"update":"create",R=d.value.model??"Page";u.append("type",R+"."+A),F(u,"/api/"+A).then(g=>{G(g)})},back:()=>{_("callback")}}},props:["conf","path","system_setting","business_setting","langs","setting","item"]},nt={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},at={key:0,id:"kt_app_content_container",class:"app-container container-xxl"},st={class:"action form d-flex flex-column flex-lg-row"},lt={class:"d-flex flex-column gap-7 gap-lg-10 w-100 min-w-80 w-lg-300px mb-7 me-lg-10"},ct={class:"card card-flush py-4"},it={class:"card-header"},dt={class:"card-title"},rt=["textContent"],_t={class:"card-body text-center pt-0"},mt={class:"image-input image-input-empty image-input-outline image-input-placeholder mb-3 w-full"},ht=["textContent"],ut={class:"card card-flush py-4"},vt={class:"card-header"},ft={class:"card-title"},xt=["textContent"],gt={class:"card-toolbar"},pt={class:"card-body pt-0"},Ct=["textContent"],yt={class:"card card-flush py-4"},bt={class:"card-header"},kt={class:"card-title"},wt=["textContent"],St={class:"card-toolbar"},It={class:"card-body pt-0"},Tt=["textContent"],Vt={class:"card card-flush py-4"},Ot={class:"card-header"},Ut={class:"card-title"},Et=["textContent"],Pt={class:"card-body pt-0"},qt=["textContent"],Nt=["textContent"],At={class:"card card-flush py-4"},Dt={class:"card-header"},Rt={class:"card-title"},jt=["textContent"],Lt={class:"card-body pt-0"},Mt=["textContent"],Ft=["textContent"],Gt={class:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10"},Jt={class:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-n2"},zt={class:"nav-item"},Bt=["onClick","textContent"],Ht={class:"tab-content"},Kt={key:0,class:"tab-pane fade show active"},Qt={class:"d-flex flex-column gap-7 gap-lg-10"},Wt={class:"card card-flush py-4"},Xt={class:"card-header flex flex-nowrap"},Yt={class:"card-title w-full"},Zt=["textContent"],$t={class:"flex gap-10 flex-none"},te=["onClick"],ee=["src"],ne=["textContent"],oe={class:"w-full"},ae={key:0,class:"card-body pt-0"},se={class:"mb-10 fv-row"},le={class:"required form-label"},ce=["textContent"],ie=["textContent"],de={class:"position-relative flex"},re=["value"],_e=["onUpdate:modelValue"],me=["textContent"],he={class:"mb-10 fv-row"},ue={class:"required form-label"},ve=["textContent"],fe=["textContent"],xe=["onUpdate:modelValue"],ge=["textContent"],pe={class:"form-label gap-6 flex"},Ce=["textContent"],ye=["textContent"],be=["textContent"],ke={key:1,class:"tab-pane fade show active"},we={class:"d-flex flex-column gap-7 gap-lg-10"},Se={class:"w-full"},Ie={class:"card-header flex flex-nowrap"},Te={class:"w-full card-title"},Ve=["textContent"],Oe={class:"flex gap-10 flex-none"},Ue={class:"py-5"},Ee=["onClick"],Pe=["src"],qe=["textContent"],Ne={key:0,class:"card-body pt-0"},Ae={class:"mb-10"},De=["textContent"],Re=["placeholder","onUpdate:modelValue"],je=["textContent"],Le={class:"mb-10"},Me=["textContent"],Fe=["onUpdate:modelValue"],Ge=["textContent"],Je=["textContent"],ze=["onUpdate:modelValue"],Be=["textContent"],He={class:"d-flex justify-content-end"},Ke=["textContent"],Qe=["textContent"];function We(w,_,i,e,h,U){const S=T("close_icon"),I=T("vue-medialibrary-field"),d=T("form_field");return a(),l("div",nt,[t("div",ot,[x(S,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:e.back},null,8,["onClick"]),e.activeItem?(a(),l("div",at,[t("div",st,[t("div",lt,[t("div",ct,[t("div",it,[t("div",dt,[t("h2",{textContent:o(e.translate("Main picture"))},null,8,rt)])]),t("div",_t,[t("div",mt,[i.conf?(a(),L(I,{onChanged:_[0]||(_[0]=n=>{e.activeItem.picture=n}),key:e.activeItem,name:"params[picture]",filepath:e.activeItem.picture??"",api_url:i.conf.url},null,8,["filepath","api_url"])):m("",!0)]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("allowed media types msg"))},null,8,ht)])]),t("div",ut,[t("div",vt,[t("div",ft,[t("h2",{textContent:o(e.translate("Status"))},null,8,xt)]),t("div",gt,[t("div",{class:p([e.activeItem.status=="on"?"bg-success":"bg-danger","rounded-circle w-15px h-15px"])},null,2)])]),t("div",pt,[x(d,{item:e.activeItem,column:{required:!0,key:"status",title:e.translate("status"),column_type:"select",text_key:"title",column_key:"value",data:[{value:null,title:e.translate("Pending")},{value:"on",title:e.translate("Active")}]}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set the item status"))},null,8,Ct)])]),t("div",yt,[t("div",bt,[t("div",kt,[t("h2",{textContent:o(e.translate("Homepage"))},null,8,wt)]),t("div",St,[t("div",{class:p([e.activeItem.homepage=="on"?"bg-success":"bg-danger","rounded-circle w-15px h-15px"])},null,2)])]),t("div",It,[x(d,{item:e.activeItem,column:{required:!0,key:"homepage",title:e.translate("homepage"),column_type:"select",text_key:"title",column_key:"value",data:[{value:null,title:e.translate("Sub-page")},{value:"on",title:e.translate("Homepage")}]}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set this page as Homepage"))},null,8,Tt)])]),t("div",Vt,[t("div",Ot,[t("div",Ut,[t("h2",{textContent:o(e.translate("Page Template"))},null,8,Et)])]),t("div",Pt,[t("label",{textContent:o(e.translate("Select a item template")),class:"form-label"},null,8,qt),x(d,{item:e.activeItem,column:{required:!0,key:"template",title:e.translate("Template"),column_type:"select",text_key:"title",column_key:"value",data:e.templates}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Assign a template from your current theme to define how a single item is displayed"))},null,8,Nt)])]),t("div",At,[t("div",Dt,[t("div",Rt,[t("h2",{textContent:o(e.translate("CSS Classes"))},null,8,jt)])]),t("div",Lt,[t("label",{textContent:o(e.translate("CSS custom class")),class:"form-label"},null,8,Mt),x(d,{item:e.activeItem.field,column:{required:!0,key:"class",title:e.translate("Class"),column_type:"text",column_key:"class"}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Assign one or more css class to this page to define the style"))},null,8,Ft)])])]),t("div",Gt,[t("ul",Jt,[(a(!0),l(C,null,y(e.tabs,n=>(a(),l("li",zt,[t("a",{class:p(["nav-link text-active-primary pb-4",n==e.activeTab?"active":""]),onClick:s=>e.activeTab=n,href:"javascript:;",textContent:o(n)},null,10,Bt)]))),256))]),t("div",Ht,[e.activeTab==e.translate("General")?(a(),l("div",Kt,[t("div",Qt,[t("div",Wt,[t("div",Xt,[t("div",Yt,[t("h2",{textContent:o(e.translate("General"))},null,8,Zt)]),t("ul",$t,[(a(!0),l(C,null,y(i.langs,n=>(a(),l("li",{class:"text-lg flex py-5 gap-2 cursor-pointer",onClick:s=>e.seoLang=n.language_code},[t("img",{src:n.icon,class:"rounded-full w-10 h-10 border-1 border border-gray-600 p-1"},null,8,ee),t("a",{href:"javascript:;",class:p(n.language_code==e.seoLang?"text-danger font-bold":"opacity-75 text-gray-400"),textContent:o(n.language_code)},null,10,ne)],8,te))),256))])]),t("div",oe,[(a(!0),l(C,null,y(i.langs,n=>(a(),l("div",{key:e.seoLang},[n&&e.seoLang==n.language_code?(a(),l("div",ae,[t("div",se,[t("label",le,[t("span",{textContent:o(e.translate("Path"))},null,8,ce),t("strong",{class:"px-4",textContent:o(n.name)},null,8,ie)]),t("div",de,[t("input",{disabled:!0,value:i.conf.url,class:"bg-gray-200 form-control-solid px-4"},null,8,re),b(t("input",{type:"text","onUpdate:modelValue":s=>e.getLang(e.activeItem,n.language_code).prefix=s,class:"form-control form-control-solid"},null,8,_e),[[k,e.getLang(e.activeItem,n.language_code).prefix]])]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("URL path for the item webpage"))},null,8,me)]),t("div",he,[t("label",ue,[t("span",{textContent:o(e.translate("Name"))},null,8,ve),t("strong",{class:"px-4",textContent:o(e.translate(n.language_code))},null,8,fe)]),b(t("input",{type:"text",class:"form-control mb-2","onUpdate:modelValue":s=>e.activeItem.content_langs[n.language_code].title=s},null,8,xe),[[k,e.activeItem.content_langs[n.language_code].title]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Name is required and recommended to be unique"))},null,8,ge)]),t("div",null,[t("label",pe,[t("span",{textContent:o(e.translate("Content"))},null,8,Ce),t("strong",{class:"px-4",textContent:o(e.translate(n.language_code))},null,8,ye)]),x(d,{column:{column_type:"editor",key:"content"},item:e.activeItem.content_langs[n.language_code],conf:i.conf},null,8,["item","conf"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a description to the item for better visibility"))},null,8,be)])])):m("",!0)]))),128))])])])])):m("",!0),e.activeTab==e.translate("SEO")?(a(),l("div",ke,[t("div",we,[t("div",Se,[(a(!0),l(C,null,y(i.langs,n=>(a(),l("div",null,[e.seoLang==n.language_code?(a(),l("div",{key:n,class:"card card-flush py-4"},[t("div",Ie,[t("div",Te,[t("h2",{textContent:o(e.translate("Meta Options"))},null,8,Ve)]),t("ul",Oe,[(a(!0),l(C,null,y(i.langs,s=>(a(),l("li",Ue,[w.key?(a(),l("div",{key:0,class:"text-lg flex gap-2 cursor-pointer",onClick:E=>e.seoLang=s.language_code},[t("img",{src:s.icon,class:"rounded-full w-10 h-10 border-1 border border-gray-600 p-1"},null,8,Pe),t("a",{href:"javascript:;",class:p(s.language_code==e.seoLang?"text-danger font-bold":"opacity-75 text-gray-400"),textContent:o(s.name)},null,10,qe)],8,Ee)):m("",!0)]))),256))])]),n?(a(),l("div",Ne,[t("div",Ae,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Title")+" ("+n.name+")")},null,8,De),b(t("input",{type:"text",class:"form-control mb-2",name:"meta_title",placeholder:e.translate("Meta tag name"),"onUpdate:modelValue":s=>e.activeItem.content_langs[n.language_code].seo_title=s},null,8,Re),[[k,e.activeItem.content_langs[n.language_code].seo_title]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a meta tag title. Recommended to be simple and precise keywords")+" ("+n.name+")")},null,8,je)]),t("div",Le,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Description"))},null,8,Me),b(t("textarea",{"onUpdate:modelValue":s=>e.activeItem.content_langs[n.language_code].seo_desc=s,class:""},null,8,Fe),[[k,e.activeItem.content_langs[n.language_code].seo_desc]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a meta tag description to the item for increased SEO ranking"))},null,8,Ge)]),t("div",null,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Keywords"))},null,8,Je),b(t("input",{id:"kt_ecommerce_add_item_meta_keywords",class:"form-control","onUpdate:modelValue":s=>e.activeItem.content_langs[n.language_code].seo_keywords=s},null,8,ze),[[k,e.activeItem.content_langs[n.language_code].seo_keywords]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a list of keywords that the item is related to. Separate the keywords by adding a comma <code>,</code> between each keyword"))},null,8,Be)])])):m("",!0)])):m("",!0)]))),256))])])])):m("",!0)]),t("div",He,[t("a",{href:"javascript:;",onClick:_[1]||(_[1]=(...n)=>e.back&&e.back(...n)),class:"btn btn-light me-5",textContent:o(e.translate("Cancel"))},null,8,Ke),t("button",{onClick:_[2]||(_[2]=(...n)=>e.save&&e.save(...n)),class:"btn btn-primary"},[t("span",{class:"indicator-label",textContent:o(e.translate("Save Changes"))},null,8,Qe)])])])])])):m("",!0)])])}const mn=j(et,[["render",We]]);export{mn as default};
