import g from"./Close-BjOQ1kqe.min.js";import{f as C}from"./Field-EMplKIN-.min.js";import{_ as q,r as s,B as V,D as N,E as w,t as B,ab as S,a as h,o as a,c as u,b as c,w as y,ac as M,d,y as D,n as A,e as k,v as U,u as f,F as v,f as b,q as I}from"./index.min.js";import{s as P}from"./multiselect-C8evBoNP.min.js";import"./toNumber-BkRaARbo.min.js";const z={components:{"vue-medialibrary-field":C,close_icon:g,Multiselect:P},props:["column","system_setting","model","model_id","item","conf"],emits:["callback"],setup(n,{emit:t}){const e=i=>{i&&t("callback",i,n.column.key)},l=i=>{i&&t("callback",i.map(o=>o[n.column.key]),n.column.key)},_=s([]);try{n.column.multiple&&(n.item[n.column.key].value=n.item[n.column.key]?n.item[n.column.key].map(i=>i[n.column.column_key]):[])}catch{n.item[n.column.key].value=n.item[n.column.key]?JSON.parse(n.item[n.column.key]).map(o=>o[n.column.column_key]??o):[]}return{file:"",multipleValue:_,isInput:V,setActiveStatus:N,changed:e,handleName:w,translate:B,handleValue:S,multiple_changed:l,itemData:n.item}}},E={key:0,class:"w-full"},F=["name","value"],j=["required","disabled","name","type","placeholder","value"],J=["required","disabled","name","type","placeholder"],L=["textContent"],O=["checked","name"],T=["checked","name"],G=["required","disabled","name","placeholder"],H=["name","value"],K=["required","disabled","value","name","type","placeholder"],Q=["textContent"],R=["value","textContent"];function W(n,t,e,l,_,i){const o=h("Multiselect"),x=h("vue-medialibrary-field");return e.column?(a(),u("div",E,[e.column&&e.column.column_type=="hidden"?(a(),u("input",{key:0,name:l.handleName(e.column),type:"hidden",value:l.handleValue(e.column,e.item)},null,8,F)):c("",!0),l.isInput(e.column.column_type)?y((a(),u("input",{key:1,onChange:t[0]||(t[0]=m=>l.changed(e.item[e.column.key])),"onUpdate:modelValue":t[1]||(t[1]=m=>e.item[e.column.key]=m),required:e.column.required,disabled:e.column.disabled,autocomplete:"off",name:l.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title,value:l.handleValue(e.column,e.item)},null,40,j)),[[M,e.item[e.column.key]]]):c("",!0),e.column.column_type=="password"?(a(),u("input",{key:2,required:e.column.required,disabled:e.column.disabled,autocomplete:"off",name:l.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title},null,8,J)):c("",!0),e.column.column_type=="checkbox"?(a(),u("div",{key:3,class:"py-4 flex gap gap-2 cursor-pointer",onClick:t[2]||(t[2]=m=>l.setActiveStatus(e.item,e.column.key))},[d("span",{class:A([e.item[e.column.key]?"bg-red-400":"bg-gray-200","mx-2 mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[d("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:D({left:e.item[e.column.key]?"16px":0})},null,4)],2),e.column.hide_text?c("",!0):(a(),u("span",{key:0,textContent:k(e.item[e.column.key]?l.translate("Active"):l.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,L)),d("input",{value:"",checked:!e.item[e.column.key],type:"checkbox",class:"hidden",name:l.handleName(e.column)},null,8,O),d("input",{value:"on",checked:!!e.item[e.column.key],type:"checkbox",class:"hidden",name:l.handleName(e.column)},null,8,T)])):c("",!0),e.column.column_type=="textarea"?y((a(),u("textarea",{key:4,onChange:t[3]||(t[3]=m=>l.changed(e.item[e.column.key])),required:e.column.required,disabled:e.column.disabled,name:l.handleName(e.column),type:"text",rows:"4",class:"mt-3 form-control form-control-solid",placeholder:e.column.title,"onUpdate:modelValue":t[4]||(t[4]=m=>e.item[e.column.key]=m)},null,40,G)),[[U,e.item[e.column.key]]]):c("",!0),e.column.multiple&&e.column.data&&e.column.column_type=="select"?(a(),f(o,{key:5,mode:"tags",modelValue:e.item[e.column.key],"onUpdate:modelValue":t[5]||(t[5]=m=>e.item[e.column.key]=m),object:!1,hideSelected:!0,searchable:!0,allowAbsent:!0,valueProp:e.column.column_key?e.column.column_key:e.column.key,trackBy:e.column.text_key,label:e.column.text_key,options:e.column.data,max:e.column.single?1:100,onChange:l.changed},null,8,["modelValue","valueProp","trackBy","label","options","max","onChange"])):c("",!0),e.column.multiple&&e.column.data&&e.column.column_type=="select"?(a(!0),u(v,{key:6},b(e.item[e.column.column_key],m=>(a(),u("input",{type:"hidden",name:"params["+e.column.column_key+"][]",value:m[e.column.column_key]},null,8,H))),256)):c("",!0),!e.column.multiple&&e.column.data&&e.column.column_type=="select"?y((a(),u("select",{key:7,"onUpdate:modelValue":t[6]||(t[6]=m=>e.item[e.column.key]=m),onChange:t[7]||(t[7]=m=>l.changed(e.column.data[e.column.data.findIndex(r=>r[e.column.key]==e.item[e.column.key])])),required:e.column.required,disabled:e.column.disabled,value:l.handleValue(e.column,e.item),name:l.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title},[e.column.required?c("",!0):(a(),u("option",{key:0,value:"0",textContent:k(l.translate("select")+" "+e.column.title)},null,8,Q)),(a(!0),u(v,null,b(e.column.data,m=>(a(),u("option",{value:m[e.column.column_key?e.column.column_key:e.column.key],textContent:k(m[e.column.text_key])},null,8,R))),256))],40,K)),[[I,e.item[e.column.key]]]):c("",!0),e.column.column_type=="file"||e.column.column_type=="picture"?(a(),f(x,{key:e.item,name:l.handleName(e.column),filepath:e.item[e.column.key],api_url:e.conf.url},null,8,["name","filepath","api_url"])):c("",!0)])):c("",!0)}const ee=q(z,[["render",W]]);export{ee as default};
