import s from"./Close-BjOQ1kqe.min.js";import{f as C}from"./Field-EMplKIN-.min.js";import{_ as q,r as N,B as V,D as w,E as B,t as S,a as h,o as u,c as a,w as k,v as r,b as c,ab as M,d as _,y as D,n as U,e as f,u as b,F as v,f as x,q as A}from"./index.min.js";import{s as I}from"./multiselect-B8bsXApd.min.js";import"./toNumber-BkRaARbo.min.js";const P={components:{"vue-medialibrary-field":C,close_icon:s,Multiselect:I},props:["column","system_setting","model","model_id","item","conf"],emits:["callback"],setup(l,{emit:t}){const e=o=>{t("callback",o,l.column.key)},n=o=>{t("callback",o,l.column.key,!0)},i=N([]);try{l.column.multiple&&(i.value=l.item[l.column.key]?l.item[l.column.key].map(o=>o[l.column.column_key]):[])}catch{try{i.value=l.item[l.column.key]?JSON.parse(l.item[l.column.key]).map(d=>d[l.column.column_key]??d):[]}catch{i.value=l.item[l.column.key]?l.item[l.column.key].map(y=>y[l.column.column_key]??y):[]}}return{file:"",multipleValue:i,isInput:V,setActiveStatus:w,changed:e,handleName:B,translate:S,multiple_changed:n,itemData:l.item}}},z={key:0,class:"w-full"},E=["name"],F=["required","disabled","name","type","placeholder"],j=["required","disabled","name","type","placeholder"],J=["textContent"],L=["checked","name"],O=["checked","name"],T=["required","disabled","name","placeholder"],G=["name","value"],H=["required","disabled","name","type","placeholder"],K=["textContent"],Q=["value","textContent"];function R(l,t,e,n,i,o){const d=h("Multiselect"),y=h("vue-medialibrary-field");return e.column?(u(),a("div",z,[e.column&&e.column.column_type=="hidden"?k((u(),a("input",{key:0,name:n.handleName(e.column),type:"hidden","onUpdate:modelValue":t[0]||(t[0]=m=>e.item[e.column.key]=m)},null,8,E)),[[r,e.item[e.column.key]]]):c("",!0),n.isInput(e.column.column_type)?k((u(),a("input",{key:1,onChange:t[1]||(t[1]=m=>n.changed(e.item[e.column.key])),required:e.column.required,disabled:e.column.disabled,autocomplete:"off",name:n.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title,"onUpdate:modelValue":t[2]||(t[2]=m=>e.item[e.column.key]=m)},null,40,F)),[[M,e.item[e.column.key]]]):c("",!0),e.column.column_type=="password"?(u(),a("input",{key:2,required:e.column.required,disabled:e.column.disabled,autocomplete:"off",name:n.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title},null,8,j)):c("",!0),e.column.column_type=="checkbox"?(u(),a("div",{key:3,class:"py-4 flex gap gap-2 cursor-pointer",onClick:t[3]||(t[3]=m=>n.setActiveStatus(e.item,e.column.key))},[_("span",{class:U([e.item[e.column.key]?"bg-red-400":"bg-gray-200","mx-2 mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[_("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:D({left:e.item[e.column.key]?"16px":0})},null,4)],2),e.column.hide_text?c("",!0):(u(),a("span",{key:0,textContent:f(e.item[e.column.key]?n.translate("Active"):n.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,J)),_("input",{value:"",checked:!e.item[e.column.key],type:"checkbox",class:"hidden",name:n.handleName(e.column)},null,8,L),_("input",{value:"on",checked:!!e.item[e.column.key],type:"checkbox",class:"hidden",name:n.handleName(e.column)},null,8,O)])):c("",!0),e.column.column_type=="textarea"?k((u(),a("textarea",{key:4,required:e.column.required,disabled:e.column.disabled,name:n.handleName(e.column),type:"text",rows:"4",class:"mt-3 form-control form-control-solid",placeholder:e.column.title,"onUpdate:modelValue":t[4]||(t[4]=m=>e.item[e.column.key]=m)},null,8,T)),[[r,e.item[e.column.key]]]):c("",!0),e.column.multiple&&e.column.data&&e.column.column_type=="select"?(u(),b(d,{key:5,mode:"tags",modelValue:n.multipleValue,"onUpdate:modelValue":t[5]||(t[5]=m=>n.multipleValue=m),object:!1,hideSelected:!0,searchable:!0,allowAbsent:!0,valueProp:e.column.column_key?e.column.column_key:e.column.key,trackBy:e.column.text_key,label:e.column.text_key,options:e.column.data,max:e.column.single?1:100,onChange:n.multiple_changed},null,8,["modelValue","valueProp","trackBy","label","options","max","onChange"])):c("",!0),e.column.multiple&&e.column.data&&e.column.column_type=="select"?(u(!0),a(v,{key:6},x(e.item[e.column.column_key],m=>(u(),a("input",{type:"hidden",name:"params["+e.column.column_key+"][]",value:m[e.column.column_key]},null,8,G))),256)):c("",!0),!e.column.multiple&&e.column.data&&e.column.column_type=="select"?k((u(),a("select",{key:7,onChange:t[6]||(t[6]=m=>n.changed(e.column.data?e.column.data[e.column.data.findIndex(g=>g[e.column.key]==e.item[e.column.key])]:l.e[e.column.key])),required:e.column.required,disabled:e.column.disabled,"onUpdate:modelValue":t[7]||(t[7]=m=>e.item[e.column.key]=m),name:n.handleName(e.column),type:e.column.column_type,class:"form-control form-control-solid",placeholder:e.column.title},[e.column.required?c("",!0):(u(),a("option",{key:0,value:"0",textContent:f(n.translate("select")+" "+e.column.title)},null,8,K)),(u(!0),a(v,null,x(e.column.data,m=>(u(),a("option",{value:m[e.column.column_key?e.column.column_key:e.column.key],textContent:f(m[e.column.text_key])},null,8,Q))),256))],40,H)),[[A,e.item[e.column.key]]]):c("",!0),e.column.column_type=="file"||e.column.column_type=="picture"?(u(),b(y,{onChanged:n.multiple_changed,key:e.item,name:n.handleName(e.column),filepath:e.item[e.column.key],api_url:e.conf.url},null,8,["onChanged","name","filepath","api_url"])):c("",!0)])):c("",!0)}const p=q(P,[["render",R]]);export{p as default};
